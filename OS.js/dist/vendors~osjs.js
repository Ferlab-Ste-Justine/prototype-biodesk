(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["vendors~osjs"],{

/***/ "./node_modules/@osjs/dialogs/dist/main.js":
/*!*************************************************!*\
  !*** ./node_modules/@osjs/dialogs/dist/main.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){n(0);var r=n(22);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(6),o=n(21);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(23);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports=n(19)},function(t,e){function n(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(o,i){var a=t.apply(e,r);function u(t){n(a,o,i,u,s,"next",t)}function s(t){n(a,o,i,u,s,"throw",t)}u(void 0)})}}},function(t,e,n){var r=n(15),o=n(16),i=n(17);t.exports=function(t){return r(t)||o(t)||i()}},function(t,e,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(18);function o(t){return!0===r(t)&&"[object Object]"===Object.prototype.toString.call(t)}t.exports=function(t){var e,n;return!1!==o(t)&&("function"==typeof(e=t.constructor)&&(!1!==o(n=e.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(t,e,n){var r=n(24),o=n(25),i=n(26);t.exports=function(t,e){return r(t)||o(t,e)||i()}},function(t,e,n){t.exports=n(27)},function(t,e,n){},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */t.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(20),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",c="object"==typeof t,l=e.regeneratorRuntime;if(l)c&&(t.exports=l);else{(l=e.regeneratorRuntime=c?t.exports:{}).wrap=w;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={},g={};g[a]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(P([])));m&&m!==r&&o.call(m,a)&&(g=m);var b=S.prototype=j.prototype=Object.create(g);k.prototype=b.constructor=S,S.constructor=k,S[s]=k.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(b),t},l.awrap=function(t){return{__await:t}},O(L.prototype),L.prototype[u]=function(){return this},l.AsyncIterator=L,l.async=function(t,e,n,r){var o=new L(w(t,e,n,r));return l.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(b),b[s]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return u.type="throw",u.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function w(t,e,n,r){var o=e&&e.prototype instanceof j?e:j,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=E(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=x(t,e,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function j(){}function k(){}function S(){}function O(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function L(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,a){var u=x(t[n],t,r);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){s.value=t,i(s)},function(t){return e("throw",t,i,a)})}a(u.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=x(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,v;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,v):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){var r=n(0);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";n.r(e);n(14);var r=n(10),o=n.n(r),i=n(1),a=n.n(i),u=n(2),s=n.n(u);function c(t,e){for(var n=[],r=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function l(t,e,n,r){var o,i=[].map,a=r&&r.children[0]||null,u=a&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:i.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)})}}(a),s=[],c=!0,l=v(t),f=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(y(e,l),r)),i&&i!==(n=y(e,l))&&!i.then&&p(l=g(e,v(n,i),l)),i}}(o,r[o]):t(e.concat(o),n[o]=v(n[o]),r[o]=v(r[o]));return r}([],l,v(e));return p(),f;function h(t){return"function"==typeof t?h(t(l,f)):null!=t?t:""}function d(){o=!o;var t=h(n);for(r&&!o&&(a=function t(e,n,r,o,i){if(o===r);else if(null==r||r.nodeName!==o.nodeName){var a=function t(e,n){var r="string"==typeof e||"number"==typeof e?document.createTextNode(e):(n=n||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName);var o=e.attributes;if(o){o.oncreate&&s.push(function(){o.oncreate(r)});for(var i=0;i<e.children.length;i++)r.appendChild(t(e.children[i]=h(e.children[i]),n));for(var a in o)w(r,a,o[a],null,n)}return r}(o,i);e.insertBefore(a,n),null!=r&&x(e,n,r),n=a}else if(null==r.nodeName)n.nodeValue=o;else{!function(t,e,n,r){for(var o in v(e,n))n[o]!==("value"===o||"checked"===o?t[o]:e[o])&&w(t,o,n[o],e[o],r);var i=c?n.oncreate:n.onupdate;i&&s.push(function(){i(t,e)})}(n,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var u={},l={},f=[],d=r.children,p=o.children,g=0;g<d.length;g++){f[g]=n.childNodes[g];var y=m(d[g]);null!=y&&(u[y]=[f[g],d[g]])}for(var g=0,b=0;b<p.length;){var y=m(d[g]),j=m(p[b]=h(p[b]));if(l[y])g++;else if(null==j||j!==m(d[g+1]))if(null==j||c)null==y&&(t(n,f[g],d[g],p[b],i),b++),g++;else{var k=u[j]||[];y===j?(t(n,k[0],k[1],p[b],i),g++):k[0]?t(n,n.insertBefore(k[0],f[g]),k[1],p[b],i):t(n,f[g],null,p[b],i),l[j]=p[b],b++}else null==y&&x(n,f[g],d[g]),g++}for(;g<d.length;)null==m(d[g])&&x(n,f[g],d[g]),g++;for(var g in u)l[g]||x(n,u[g][0],u[g][1])}return n}(r,a,u,u=t)),c=!1;s.length;)s.pop()()}function p(){o||(o=!0,setTimeout(d))}function v(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function g(t,e,n){var r={};return t.length?(r[t[0]]=t.length>1?g(t.slice(1),e,n[t[0]]):e,v(n,r)):e}function y(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function m(t){return t?t.key:null}function b(t){return t.currentTarget.events[t.type](t)}function w(t,e,n,r,o){if("key"===e);else if("style"===e)if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),v(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}else"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?r||(r=t.events[e]):t.events={},t.events[e]=n,n?r||t.addEventListener(e,b):t.removeEventListener(e,b)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),null!=n&&!1!==n||t.removeAttribute(e)}function x(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}}var f=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===h}(t)}(t)};var h="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function d(t,e){return!1!==e.clone&&e.isMergeableObject(t)?v((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function p(t,e,n){return t.concat(e).map(function(t){return d(t,n)})}function v(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||p,n.isMergeableObject=n.isMergeableObject||f;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(e){r[e]=d(t[e],n)}),Object.keys(e).forEach(function(o){n.isMergeableObject(e[o])&&t[o]?r[o]=v(t[o],e[o],n):r[o]=d(e[o],n)}),r}(t,e,n):d(e,n)}v.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return v(t,n,e)},{})};var g=v,y=n(11),m=n.n(y),b=n(6),w=n.n(b);var x=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}};var j=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};var k=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var S=function(t){return x(t)||j(t)||k()};function O(t,e){for(var n=[],r=[],o=arguments.length;2<o--;)n.push(arguments[o]);for(;n.length;){var i=n.pop();if(i&&i.pop)for(o=i.length;o--;)n.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(e||{},r):{nodeName:t,attributes:e||{},children:r,key:e&&e.key}}function L(t,e,n,r){function o(t){return"function"==typeof t?o(t(j,k)):null==t?"":t}function i(){g=!g;var t=o(n);for(r&&!g&&(m=function t(e,n,r,i,a){if(i===r);else if(null==r||r.nodeName!==i.nodeName){var u=d(i,a);e.insertBefore(u,n),null!=r&&v(e,n,r),n=u}else if(null==r.nodeName)n.nodeValue=i;else{p(n,r.attributes,i.attributes,a=a||"svg"===i.nodeName);for(var s={},c={},f=[],h=r.children,g=i.children,y=0;y<h.length;y++){f[y]=n.childNodes[y];var m=l(h[y]);null!=m&&(s[m]=[f[y],h[y]])}for(var y=0,b=0;b<g.length;){var m=l(h[y]),w=l(g[b]=o(g[b]));if(c[m])y++;else if(null==w||w!==l(h[y+1]))if(null==w||x)null==m&&(t(n,f[y],h[y],g[b],a),b++),y++;else{var j=s[w]||[];m===w?(t(n,j[0],j[1],g[b],a),y++):j[0]?t(n,n.insertBefore(j[0],f[y]),j[1],g[b],a):t(n,f[y],null,g[b],a),c[w]=g[b],b++}else null==m&&v(n,f[y],h[y]),y++}for(;y<h.length;)null==l(h[y])&&v(n,f[y],h[y]),y++;for(var y in s)c[y]||v(n,s[y][0],s[y][1])}return n}(r,m,b,b=t)),x=!1;w.length;)w.pop()()}function a(){g||(g=!0,setTimeout(i))}function u(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function s(t,e,n){var r={};return t.length?(r[t[0]]=1<t.length?s(t.slice(1),e,n[t[0]]):e,u(n,r)):e}function c(t,e){for(var n=0;n<t.length;)e=e[t[n++]];return e}function l(t){return t?t.key:null}function f(t){return t.currentTarget.events[t.type](t)}function h(t,e,n,r,o){if("key"===e);else if("style"!==e)"o"===e[0]&&"n"===e[1]?(e=e.slice(2),t.events?!r&&(r=t.events[e]):t.events={},t.events[e]=n,n?!r&&t.addEventListener(e,f):t.removeEventListener(e,f)):e in t&&"list"!==e&&"type"!==e&&"draggable"!==e&&"spellcheck"!==e&&"translate"!==e&&!o?t[e]=null==n?"":n:null!=n&&!1!==n&&t.setAttribute(e,n),(null==n||!1===n)&&t.removeAttribute(e);else if("string"==typeof n)t.style.cssText=n;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),u(r,n)){var a=null==n||null==n[i]?"":n[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}}function d(t,e){var n="string"==typeof t||"number"==typeof t?document.createTextNode(t):(e=e||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName),r=t.attributes;if(r){r.oncreate&&w.push(function(){r.oncreate(n)});for(var i=0;i<t.children.length;i++)n.appendChild(d(t.children[i]=o(t.children[i]),e));for(var a in r)h(n,a,r[a],null,e)}return n}function p(t,e,n,r){for(var o in u(e,n))n[o]!==("value"==o||"checked"==o?t[o]:e[o])&&h(t,o,n[o],e[o],r);var i=x?n.oncreate:n.onupdate;i&&w.push(function(){i(t,e)})}function v(t,e,n){function r(){t.removeChild(function t(e,n){var r=n.attributes;if(r){for(var o=0;o<n.children.length;o++)t(e.childNodes[o],n.children[o]);r.ondestroy&&r.ondestroy(e)}return e}(e,n))}var o=n.attributes&&n.attributes.onremove;o?o(e,r):r()}var g,y=[].map,m=r&&r.children[0]||null,b=m&&function t(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:y.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:t(e)})}}(m),w=[],x=!0,j=u(t),k=function t(e,n,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(c(e,j),r)),i&&i!==(n=c(e,j))&&!i.then&&a(j=s(e,u(n,i),j)),i}}(o,r[o]):t(e.concat(o),n[o]=u(n[o]),r[o]=u(r[o]));return r}([],j,u(e));return a(),k}var E=function(t,e){return"number"==typeof t?"".concat(t,"px"):!1===t?e:t},N={grow:function(t){return{flexGrow:t}},shrink:function(t){return{flexShrink:t}},basis:function(t){return{flexBasis:E(t,"auto")}},align:function(t){return{alignItems:t}},justify:function(t){return{justifyContent:t}},padding:function(t){return{margin:E(t,"0")}},margin:function(t){return{margin:E(t,"0")}}},_=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=t.class instanceof Array?t.class:[t.class],r=["osjs-gui"].concat(S(n));t.orientation&&r.push("osjs-gui-"+t.orientation);var o="string"==typeof t.style?{}:Object.assign({},t.style||{}),i=Object.keys(t).reduce(function(e,n){var r=N[n]?N[n](t[n]):void 0;return Object.assign({},e,r)},o);return O("div",{oncreate:t.oncreate,ondestroy:t.ondestroy,class:r.filter(function(t){return!!t}).join(" "),style:i},e)},C=function(t,e){return O(_,Object.assign({orientation:"horizontal"},t,{class:["osjs-gui-box",t.class]}),e)},P=function(t,e){return O(_,Object.assign({},t,{class:["osjs-gui-box-container",t.class]}),e)};function T(t,e){return t(e={exports:{}},e.exports),e.exports}var z=T(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==w()(Symbol.iterator)?function(t){return w()(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":w()(t)})(t)}function n(r){return t.exports=n="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},n(r)}t.exports=n}),A=function(t){var e=t&&"object"===z(t)?t.src:t;return O("i",{"data-icon":t&&"object"===z(t)?t.name:void 0,class:"osjs-icon",style:{backgroundImage:"string"==typeof t?"url(".concat(e,")"):void 0}})};var I=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},B=function(t,e){return Object.keys(t).filter(function(t){return-1===e.indexOf(t)}).reduce(function(e,n){return Object.assign(I({},n,t[n]),e)},{})},D=function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:250,n=!1;return function(r,o){return t=clearTimeout(t),t=setTimeout(function(){return n=!1},e),n?(r.preventDefault(),o(r)):(n=!0,!1)}},R=function(t,e,n,r,o){var i=e.oninput||function(){},a=e.onchange||function(){},u=e.onkeydown||function(){},s=o||function(t){return[t.target.value]},c=Object.assign({oninput:function(t){return i.apply(void 0,[t].concat(S(s(t))))},onchange:function(t){return a.apply(void 0,[t].concat(S(s(t))))},onkeydown:function(t){13===t.keyCode&&e.onenter&&e.onenter.apply(e,[t].concat(S(s(t)))),u(t)}},n,B(e,["choices","label","box","oninput","onchange"]));return O(_,Object.assign({},e.box||{},{class:"osjs-gui-field osjs-gui-"+t}),r(c))},F=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return R("button",t,{},function(n){var r=[];return t.icon&&r.push(O(A,t.icon)),"string"==typeof t.label&&r.push(O("span",{class:"osjs-label"},t.label)),O("button",n,[].concat(r,S(e)))})},V=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n="number"==typeof t.value?Math.max(0,Math.abs(t.value))%100:0,r=O("div",{class:"osjs-gui-progressbar-wrapper"},[O("div",{className:"osjs-gui-progressbar-value",style:{width:n+"%"}}),O("div",{className:"osjs-gui-progressbar-label"},[O("span",{},[n+"%"])])]);return O(_,Object.assign({},t.box||{},{class:["osjs-gui-progressbar",t.class]}),[r].concat(S(e)))},$=function(t){return O("div",{id:"osjs-context-menu",className:"osjs-gui osjs-gui-menu",oncreate:t.oncreate,onupdate:t.onupdate,style:{display:!1===t.visible?"none":"block",top:t.position?t.position.top+"px":0,left:t.position?t.position.left+"px":0}},function t(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=function(t){var e=[];return"checkbox"===t.type||"boolean"==typeof t.checked?e.push(O("span",{class:"osjs-gui-menu-checkbox "+(t.checked?"active":"")})):t.icon&&e.push(O(A,t.icon)),e.push(O("span",{},t.label)),e},i=function(e,n){if("function"==typeof n.element)return n.element();var i="separator"===n.type?"osjs-gui-menu-separator":"osjs-gui-menu-label "+(n.disabled?"osjs__disabled":""),a=[O("span",{class:i},o(n))];return n.items&&a.push(t(e,n.items,r+1)),a};return O("ul",{class:""},n.map(function(t){return O("li",{class:"osjs-gui-menu-entry"},[O("div",{class:"osjs-gui-menu-container","data-has-image":!!t.icon||void 0,"data-has-children":!!t.items||void 0,onmouseover:t.items?e.onshow:void 0,ontouchend:t.items?e.onshow:void 0,onclick:function(n){t.items||(t.onclick&&t.onclick(t,n),e.onclick&&e.onclick(t,n,t))}},i(e,t))])}))}(t,t.menu))},M=function(t,e){return O(_,Object.assign({orientation:"vertical"},t,{class:["osjs-gui-toolbar",t.class]}),e)};function G(t,e,n,r){return e._$r=function(){return{}},function(o,i){return O(r||"x-",{key:o.key,id:o.id,class:o.class,oncreate:function(r){var a=L(t,e,function(t,e){var o=n(t,e);return"function"==typeof o&&(o=o(r._$p,r._$c)),o},r);r._$p=o,r._$c=i,r._$r=a._$r,r._$u=a.uninit,a.init&&a.init(o),o.oncreate&&o.oncreate(r)},onupdate:function(t){t._$p=o,t._$c=i,t._$r(),o.onupdate&&o.onupdate(t)},ondestroy:function(t){t._$u&&t._$u()},onremove:function(t,e){return o.onremove?void o.onremove(t,e):e()}})}}var H=function(t,e,n,r){var o=Array(Math.ceil(n.length/2)).fill(null).map(function(){return O("div",{class:"osjs-gui-panes-spacer",onmousedown:function(t){return function(t,e,n){var r=t.target,o=t.clientX,i=t.clientY,a=r.previousSibling,u=a.offsetWidth,s=a.offsetHeight,c=Array.from(r.parentNode.children).indexOf(a),l=.8*a.parentNode.offsetWidth,f=.8*a.parentNode.offsetHeight;if(!(0>c)){var h=function(t){var r=Math.min;t.preventDefault();var a="vertical"===n?u:s;if("vertical"===n){var h=t.clientX-o;a=r(l,a+h)}else{var d=t.clientY-i;a=r(f,a+d)}e.setSize({index:c,size:a})};t.preventDefault(),document.addEventListener("mousemove",h),document.addEventListener("mouseup",function t(e){e.preventDefault(),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",t)})}}(t,e,r)}})});return n.map(function(e,n){var r=t.sizes[n]?t.sizes[n]+"px":void 0;return O("div",{class:"osjs-gui-panes-pane",style:{flex:r?"0 0 ".concat(r):r}},e)}).map(function(t,e){return[t,o[e]]}).reduce(function(t,e){return t.concat(e)}).filter(function(t){return void 0!==t})},W=(G({sizes:[]},{init:function(t){return{sizes:t.sizes||[150]}},setSize:function(t){var e=t.index,n=t.size;return function(t){var r=[].concat(t.sizes);return r[e]=n,{sizes:r}}}},function(t,e){return function(n,r){var o=n.orientation||"vertical";return O(_,{orientation:o,class:"osjs-gui-panes-inner"},H(t,e,r,o))}},"div"),D()),Y=function(t){return O(_,Object.assign({class:"osjs-gui-list-view"},t.box||{}),function(t){var e=function(e,n){return O("div",{class:"osjs-gui-list-view-pane",style:n.style||{}},[O("div",{class:"osjs-gui-list-view-header",style:{display:t.hideColumns?"none":void 0}},O("span",{},"object"===z(n)?n.label:n)),O("div",{class:"rows","data-zebra":t.zebra+""},t.rows.map((r=e,function(e,n){var o=e.columns[r]||{},i=t.selectedIndex===n,a=o.icon?O(A,o.icon):null,u=[O("span",{},["object"===z(o)?o.label:o])];return a&&u.unshift(a),O("div",{"data-has-icon":!!o.icon||void 0,class:"osjs-gui-list-view-cell"+(i?" osjs__active":""),ontouchstart:function(r){return W(r,function(){return t.onactivate({data:e.data,index:n,ev:r})})},ondblclick:function(r){return t.onactivate({data:e.data,index:n,ev:r})},onclick:function(r){return t.onselect({data:e.data,index:n,ev:r})},oncontextmenu:function(r){return t.oncontextmenu({data:e.data,index:n,ev:r})},oncreate:function(r){return t.oncreate({data:e.data,index:n,el:r})}},u)})))]);var r};return O("div",{class:"osjs-gui-list-view-wrapper",oncreate:function(e){return e.scrollTop=t.scrollTop},onupdate:function(e){0>t.selectedIndex&&(e.scrollTop=t.scrollTop)}},t.columns.map(function(t,n){return e(n,t)}))}(B(t,["box"])))},q=function(t,e){var n=Object.assign({zebra:!0,columns:[],rows:[],onselect:function(t){var n=t.data,r=t.index,o=t.ev;e.select({data:n,index:r,ev:o}),e.setSelectedIndex(r)},onactivate:function(t){var n=t.data,r=t.index,o=t.ev;e.activate({data:n,index:r,ev:o}),e.setSelectedIndex(-1)},oncontextmenu:function(t){var n=t.data,r=t.index,o=t.ev;e.select({data:n,index:r,ev:o}),e.contextmenu({data:n,index:r,ev:o}),e.setSelectedIndex(r)},oncreate:function(t){e.created(t)}},t);return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Y(Object.assign(n,t))}},X=function(t){return Object.assign({selectedIndex:-1,scrollTop:0},t)},U=function(t){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},setRows:function(t){return{rows:t}},setColumns:function(t){return{columns:t}},setScrollTop:function(t){return function(){return{scrollTop:t}}},setSelectedIndex:function(t){return function(){return{selectedIndex:t}}}},t||{})},K=(D(),function(t,e,n){var r=t.labels,o=t.onchange,i=t.oncontextmenu;return(r||[]).map(function(t,r){return O("div",{class:e.selectedIndex===r?"osjs__active":"",oncontextmenu:function(e){(i||function(){})(e,r,t)},onclick:function(e){n.setSelectedIndex(r),(o||function(){})(e,r,t)}},O("span",{},t))})}),J=function(t,e){return e.map(function(e,n){return O("div",{class:t.selectedIndex===n?"osjs__active":""},e)})},Q=(G({selectedIndex:0},{init:function(t){return{selectedIndex:t.selectedIndex||0}},setSelectedIndex:function(t){return function(){return{selectedIndex:t}}}},function(t,e){return function(n,r){return O("div",{class:"osjs-gui-tabs-wrapper"},[O("div",{class:"osjs-gui-tabs-header"},K(n,t,e)),O("div",{class:"osjs-gui-tabs-panes"},J(t,r))])}},"div"),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return R("text-field",t,{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"text"},function(t){return O("input",t)})}),Z=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return R("textarea-field",t,{rows:4},function(t){return O("textarea",t,e)})},tt=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],n=function(e){return e instanceof Array?e.map(function(t){return"object"===z(t)?t:{value:t,label:t}}):Object.keys(t.choices||{}).map(function(e){return{value:e,label:t.choices[e]}})}(t.choices).map(function(e){var n=e.value,r=e.label;return O("option",{value:n,selected:t.value===n},r)});return R("select-field",t,{selectedIndex:void 0},function(t){return O("div",{},O("select",t,[].concat(S(n),S(e))))},function(t){return[t.target.value,t.target.textContent]})},et=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return R("range-field",t,{type:"range"},function(t){return O("input",t)})},nt=(G({active:!0},{init:function(t){return{ative:!1!==t.active}},ontoggle:function(t){var e=t.ev,n=t.active;return(t.ontoggle||function(){})(e,n),{active:n}}},function(t,e){return function(n,r){return O(_,Object.assign({},n.box||{},{class:["osjs-gui-expander-wrapper"]}),[O("div",{class:"osjs-gui-expander-header",onclick:function(r){return e.ontoggle({ev:r,active:!t.active,ontoggle:n.ontoggle})}},[O("div",{class:"osjs-gui-expander-header-icon","data-active":t.active+""}),O("div",{class:"osjs-gui-expander-header-label"},n.label)]),O("div",{class:"osjs-gui-expander-content",style:{display:!1===t.active?"none":void 0}},r)])}},"div"),T(function(t){!function(e){function n(t,e,n,r){var i=e&&e.prototype instanceof o?e:o,a=Object.create(i.prototype),u=new d(r||[]);return a._invoke=c(t,n,u),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function o(){}function i(){}function a(){}function u(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){function e(n,o,i,a){var u=r(t[n],t,o);if("throw"!==u.type){var s=u.arg,c=s.value;return c&&"object"==w()(c)&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(c).then(function(t){s.value=t,i(s)},function(t){return e("throw",t,i,a)})}a(u.arg)}var n;this._invoke=function(t,r){function o(){return new Promise(function(n,o){e(t,r,n,o)})}return n=n?n.then(o,o):o()}}function c(t,e,n){var o="suspendedStart";return function(i,a){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var s=l(u,n);if(s){if(s===S)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=r(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===S)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function l(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,l(t,e),"throw"===e.method))return S;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var o=r(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,S;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,S):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,S)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(y.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:void 0,done:!0}}var g=Object.prototype,y=g.hasOwnProperty,m="function"==typeof Symbol?Symbol:{},b=m.iterator||"@@iterator",x=m.asyncIterator||"@@asyncIterator",j=m.toStringTag||"@@toStringTag",k=e.regeneratorRuntime;if(k)t.exports=k;else{(k=e.regeneratorRuntime=t.exports).wrap=n;var S={},O={};O[b]=function(){return this};var L=Object.getPrototypeOf,E=L&&L(L(p([])));E&&E!==g&&y.call(E,b)&&(O=E);var N=a.prototype=o.prototype=Object.create(O);i.prototype=N.constructor=a,a.constructor=i,a[j]=i.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===i||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,!(j in t)&&(t[j]="GeneratorFunction")),t.prototype=Object.create(N),t},k.awrap=function(t){return{__await:t}},u(s.prototype),s.prototype[x]=function(){return this},k.AsyncIterator=s,k.async=function(t,e,r,o){var i=new s(n(t,e,r,o));return k.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},u(N),N[j]="Generator",N[b]=function(){return this},N.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},k.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=void 0),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;0<=r;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=y.call(o,"catchLoc"),u=y.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n,r=this.tryEntries.length-1;0<=r;--r)if((n=this.tryEntries[r]).tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,S):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),S},finish:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).finallyLoc===t)return this.complete(e.completion,e.afterLoc),h(e),S},catch:function(t){for(var e,n=this.tryEntries.length-1;0<=n;--n)if((e=this.tryEntries[n]).tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;h(e)}return o}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),S}}}}(function(){return this||"object"==("undefined"==typeof self?"undefined":w()(self))&&self}()||Function("return this")())})),rt=function(){return this||"object"==("undefined"==typeof self?"undefined":w()(self))&&self}()||Function("return this")(),ot=rt.regeneratorRuntime&&0<=Object.getOwnPropertyNames(rt).indexOf("regeneratorRuntime"),it=ot&&rt.regeneratorRuntime;rt.regeneratorRuntime=void 0;var at=nt;if(ot)rt.regeneratorRuntime=it;else try{delete rt.regeneratorRuntime}catch(t){rt.regeneratorRuntime=void 0}var ut=at;function st(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}var ct=function(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){function i(t){st(u,r,o,i,a,"next",t)}function a(t){st(u,r,o,i,a,"throw",t)}var u=t.apply(e,n);i(void 0)})}};var lt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function ft(t,e){for(var n,r=0;r<e.length;r++)(n=e[r]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}var ht=function(t,e,n){return e&&ft(t.prototype,e),n&&ft(t,n),t},dt=function(t){return t(),setTimeout(t,100)},pt=function(){function t(e){lt(this,t),this.core=e,this.callback=function(){},this.actions=null}return ht(t,[{key:"destroy",value:function(){this.callback=null,this.actions=null}},{key:"init",value:function(){var t,e=this;this.actions=L({visible:!1,menu:[],position:{top:0,left:0}},{clamp:function(n){return function(r){if(n=n||document.querySelector("#osjs-context-menu"),clearTimeout(t),n){var o=function(t,e,n){var r={},o=n.top+e.offsetHeight,i=n.left+e.offsetWidth,a=t.offsetHeight-n.top,u=t.offsetWidth-n.left,s=i>t.offsetWidth,c=o>t.offsetHeight;return c&&(r.top=t.offsetHeight-e.offsetHeight-a),s&&(r.left=t.offsetWidth-e.offsetWidth-u),c||s?r:null}(e.core.$root,n,r.position);if(o)return{position:o}}return{}}},onshow:function(n){return function(){t=dt(function(){return function(t,e){var n=e.target.querySelector("ul");n&&(n.classList.contains("osjs-gui-menu-container")&&(n=n.parentNode.parentNode),n&&n.offsetParent)&&(n.classList.remove("clamp-right"),n.getBoundingClientRect().right>t.offsetWidth&&n.classList.add("clamp-right"))}(e.core.$root,n)})}},show:function(t){return function(n,r){var o=t.menu,i=t.position;if(i instanceof Event)i={left:i.clientX,top:i.clientY};else if(i instanceof Element){var a=i.getBoundingClientRect();i={left:a.left,top:a.top+a.height}}return e.callback=function(n,r,o){t.callback&&t.callback(n,r),!1!==o.closeable&&e.actions.hide()},dt(function(){return r.clamp()}),{visible:!0,menu:o||[],position:i||{top:0,left:0}}}},hide:function(){return function(){return e.callback=null,{visible:!1}}}},function(t){return function(e,n){return O($,{position:e.position,visible:e.visible,menu:e.menu,onclick:t,onshow:n.onshow})}}(function(){!e.core.destroyed&&e.callback&&e.callback.apply(e,arguments)}),this.core.$root)}},{key:"show",value:function(){var t;return this.actions?(t=this.actions).show.apply(t,arguments):null}},{key:"hide",value:function(){var t;return this.actions?(t=this.actions).hide.apply(t,arguments):null}}]),t}(),vt=function(t){var e=t.target,n="TEXTAREA"===e.tagName;return n||"INPUT"!==e.tagName||(n=-1!==["text","password","number","email"].indexOf(e.type)),n},gt=(function(){function t(e){lt(this,t),this.core=e,this.contextmenu=new pt(e)}ht(t,[{key:"destroy",value:function(){var t=document.getElementById("osjs-context-menu");t&&t.remove(),this.contextmenu.destroy()}},{key:"init",value:function(){var t=ct(ut.mark(function t(){var e,n=this;return ut.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e={show:function(){var t;return(t=n.contextmenu).show.apply(t,arguments)},hide:function(){var t;return(t=n.contextmenu).hide.apply(t,arguments)}},this.core.instance("osjs/contextmenu",function(){return arguments.length?e.show.apply(e,arguments):e}),this.core.$root.addEventListener("contextmenu",function(t){vt(t)||(t.stopPropagation(),t.preventDefault())});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=this;this.core.$root.addEventListener("click",function(e){!document.getElementById("osjs-context-menu").contains(e.target)&&t.contextmenu&&t.contextmenu.hide()},!0),this.contextmenu.init()}}])}(),0),yt=function(t,e){var n=function(t){return{ok:{label:t("LBL_OK"),positive:!0},close:{label:t("LBL_CLOSE")},cancel:{label:t("LBL_CANCEL")},yes:{label:t("LBL_YES"),positive:!0},no:{label:t("LBL_NO")}}}(e);return n[t]?Object.assign({},{name:t},n[t]):{label:t,name:t}},mt=function(t,e){return g({id:null,className:"unknown",defaultValue:null,buttons:[],sound:null,window:{id:t.id||"Dialog_"+String(gt),title:"Dialog",attributes:{gravity:"center",resizable:!1,maximizable:!1,minimizable:!1,sessionable:!1,classNames:["osjs-dialog","osjs-".concat(t.className||"unknown","-dialog")],minDimension:{width:300,height:100}}}},t,{isMergeableObject:m.a})},bt=function(){function t(e,n,r,o){a()(this,t),this.core=e,this.args=n,this.callback=o||function(){},this.options=mt(r,n),this.win=null,this.value=void 0,this.calledBack=!1;var i=e.make("osjs/locale").translate;this.buttons=this.options.buttons.map(function(t){return"string"==typeof t?yt(t,i):{label:t.label||"button",name:t.name||"unknown"}}),gt++}return s()(t,[{key:"destroy",value:function(){this.win.destroy(),this.win=null,this.callback=null}},{key:"render",value:function(t,e){var n=this,r=g(this.options.window||{},t,{isMergeableObject:m.a});this.win=this.core.make("osjs/window",r),this.win.on("keydown",function(t,e){27===t.keyCode&&n.emitCallback(n.getNegativeButton(),null,!0)}),this.win.on("dialog:button",function(t,e){n.emitCallback(t,e,!0)}),this.win.on("destroy",function(){n.emitCallback("destroy")}),this.win.on("render",function(){n.win.focus();var t=n.getNegativeButton(),e=t?n.win.$content.querySelector("button[name=".concat(t,"]")):null;e&&e.focus(),n.playSound()}),this.win.init(),this.win.render(e),this.win.focus()}},{key:"createView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(C,{grow:1,shrink:1},[].concat(o()(t),[c(M,{class:"osjs-dialog-buttons"},o()(this.createButtons(e.buttons||{})))]))}},{key:"createButtons",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buttons.map(function(n){return c(F,Object.assign({},{disabled:!1===e[n.name],onclick:function(e){return function(e,n){t.win.emit("dialog:button",e,n)}(n.name,e)}},n))})}},{key:"emitCallback",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.calledBack||(this.calledBack=!0,console.debug("Callback in dialog",t,e,n),this.callback(t,this.getValue(),e),n&&this.destroy())}},{key:"playSound",value:function(){if(this.core.has("osjs/sounds")){var t=this.options.sound;if(t)return this.core.make("osjs/sounds").play(t),!0}return!1}},{key:"getPositiveButton",value:function(){var t=this.buttons.find(function(t){return!0===t.positive});return t?t.name:null}},{key:"getNegativeButton",value:function(){var t=this.buttons.find(function(t){return!t.positive});return t?t.name:null}},{key:"getValue",value:function(){return void 0===this.value?this.options.defaultValue:this.value}}]),t}(),wt=n(8),xt=n.n(wt),jt=n(9),kt=n.n(jt),St=n(4),Ot=n.n(St),Lt=n(0),Et=n.n(Lt),Nt=n(3),_t=n.n(Nt),Ct=n(5),Pt=n.n(Ct),Tt=function(t){function e(t,n,r){return a()(this,e),void 0===(n=Object.assign({},{title:"Alert",type:"info",message:""},n)).sound&&(n.sound="error"===n.type?"bell":"message"),Ot()(this,Et()(e).call(this,t,n,{className:"alert",sound:n.sound,window:{title:n.title,attributes:{ontop:"error"===n.type,minDimension:{width:400,height:220}}},buttons:["close"]},r))}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this;_t()(Et()(e.prototype),"render",this).call(this,t,function(t){var e=[c("div",{class:"osjs-dialog-message"},String(n.args.message))];if("error"===n.args.type){var r=n.args.error,o=r instanceof Error?r.stack?r.stack:r:String(r);e.push(c(Z,{value:o,readonly:!0,placeholder:n.args.message}))}l({},{},function(t,r){return n.createView([c(C,{grow:1},e)])},t)})}}]),e}(bt),zt=function(t){function e(t,n,r){a()(this,e);var o=void 0===n.yesno||!0===n.yesno,i=n.buttons instanceof Array?n.buttons:o?["yes","no"]:["ok","cancel"];return Ot()(this,Et()(e).call(this,t,n,{className:"confirm",window:{title:n.title||"Confirm",attributes:{minDimension:{height:140}}},buttons:i},r))}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this;_t()(Et()(e.prototype),"render",this).call(this,t,function(t){l({},{},function(t,e){return n.createView([c(C,{grow:1},[c("div",{class:"osjs-dialog-message"},String(n.args.message))])])},t)})}}]),e}(bt),At=function(t){function e(t,n,r){var o;return a()(this,e),(o=Ot()(this,Et()(e).call(this,t,Object.assign({},{value:"",placeholder:""},n),{className:"prompt",buttons:["ok","cancel"],window:{title:n.title||"Prompt",attributes:{minDimension:{width:500,height:200}}}},r))).value=o.args.value,o}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this;_t()(Et()(e.prototype),"render",this).call(this,t,function(t){l({value:n.args.value},{setValue:function(t){return function(e){return n.value=t,{value:t}}}},function(t,e){return n.createView([c(C,{grow:1,padding:!1},[c(C,{class:"osjs-dialog-message"},String(n.args.message)),c(Q,{value:t.value,placeholder:n.args.placeholder,onenter:function(t,r){e.setValue(r),n.emitCallback(n.getPositiveButton(),t,!0)},oninput:function(t,n){return e.setValue(n)}})])])},t)})}}]),e}(bt),It=function(t){function e(t,n,r){var o;return a()(this,e),(o=Ot()(this,Et()(e).call(this,t,n,{className:"progress",buttons:["cancel"],window:{title:n.title||"Progress",attributes:{minDimension:{width:500,height:200}}}},r))).value=o.args.progress||0,o.status=o.args.status||"",o.app=null,o}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this;_t()(Et()(e.prototype),"render",this).call(this,t,function(t){n.app=l({progress:n.value,status:n.status},{setProgress:function(t){return function(e){return{progress:t}}},setStatus:function(t){return function(e){return{status:t}}}},function(t,e){return n.createView([c(C,{grow:1,shrink:1},[c("div",{class:"osjs-dialog-message"},String(n.args.message)),c("div",{class:"osjs-dialog-status"},String(t.status)),c(V,{value:t.progress})])])},t)})}},{key:"setProgress",value:function(t){this.app.setProgress(t)}},{key:"setStatus",value:function(t){this.app.setStatus(t)}}]),e}(bt),Bt=n(7),Dt=n.n(Bt),Rt=n(12),Ft=n.n(Rt),Vt=function(t){var e=parseInt(t.replace("#",""),16),n={};return n.r=(e&255<<16)>>16,n.g=(65280&e)>>8,n.b=255&e,n},$t=function(t){var e=t.r,n=t.g,r=t.b;return"#"+[parseInt(e,10).toString(16),parseInt(n,10).toString(16),parseInt(r,10).toString(16)].map(function(t){return 1===String(t).length?"0"+String(t):t}).join("").toUpperCase()},Mt=function(t){function e(t,n,r){var o;a()(this,e),(o=Ot()(this,Et()(e).call(this,t,n,{className:"color",buttons:["ok","cancel"],window:{title:n.title||"Select Color",attributes:{minDimension:{width:500,height:260}}}},r))).value={r:0,g:0,b:0,hex:"#000000"};var i=n.color;return i&&("string"==typeof i?("#"!==i.substr(0,1)&&(i="#"+i),o.value=Object.assign({},o.value,Vt(n.color)),o.value.hex=n.color):(o.value=Object.assign({},o.value,n.color),o.value.hex=$t(o.value))),o}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this;_t()(Et()(e.prototype),"render",this).call(this,t,function(t){var e=function(t,e){var n,r=document.createElement("canvas");r.width=t,r.height=e;var o=r.getContext("2d");return(n=o.createLinearGradient(0,0,o.canvas.width,0)).addColorStop(0,"rgb(255,   0,   0)"),n.addColorStop(.15,"rgb(255,   0, 255)"),n.addColorStop(.33,"rgb(0,     0, 255)"),n.addColorStop(.49,"rgb(0,   255, 255)"),n.addColorStop(.67,"rgb(0,   255,   0)"),n.addColorStop(.84,"rgb(255, 255,   0)"),n.addColorStop(1,"rgb(255,   0,   0)"),o.fillStyle=n,o.fillRect(0,0,o.canvas.width,o.canvas.height),(n=o.createLinearGradient(0,0,0,o.canvas.height)).addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0)"),n.addColorStop(.5,"rgba(0,     0,   0, 0)"),n.addColorStop(1,"rgba(0,     0,   0, 1)"),o.fillStyle=n,o.fillRect(0,0,o.canvas.width,o.canvas.height),r}(98,98),r=Object.assign({},n.value),o=function(t,e,n){return c(C,{orientation:"vertical",align:"center",padding:!1},[c(C,{shrink:1},c("div",{},t.toUpperCase())),c(et,{box:{grow:1},min:0,max:255,value:e,oncreate:function(t){return t.value=e},oninput:function(e,r){n.setComponent({color:t,value:r})},onchange:function(t,e){n.updateHex()}}),c(Q,{box:{shrink:1,basis:"5em"},value:String(e),oninput:function(e,r){n.setComponent({color:t,value:r}),n.updateHex()}})])},i=l(r,{setColor:function(t){return function(e){return t}},setComponent:function(t){var e=t.color,r=t.value;return function(t){return n.value[e]=r,Dt()({},e,r)}},updateHex:function(){return function(t){var e=$t(t);return n.value.hex=e,{hex:e}}}},function(t,r){return n.createView([c(C,{orientation:"vertical",grow:1,shrink:1},[c(P,{orientation:"horizontal"},[c("div",{class:"osjs-gui-border",style:{display:"inline-block"},oncreate:function(t){return t.appendChild(e)}}),c(Q,{value:t.hex,style:{width:"100px",color:t.hex}})]),c(C,{padding:!1,grow:1,shrink:1},[o("r",t.r,r),o("g",t.g,r),o("b",t.b,r)])])])},t);e.addEventListener("click",function(t){var n=function(t,e){var n=t.clientX,r=t.clientY,o=e.getBoundingClientRect(),i=n-o.x,a=r-o.y,u=e.getContext("2d").getImageData(i,a,1,1).data,s=Ft()(u,3),c=s[0],l=s[1],f=s[2];return{r:c,g:l,b:f,hex:$t({r:c,g:l,b:f})}}(t,e);n&&(i.setColor(n),i.updateHex())})})}}]),e}(bt),Gt=function(t){function e(t,n,r){var o;return a()(this,e),n=Object.assign({},{title:"Chose Font",minSize:6,maxSize:48,unit:"px",name:"Roboto",size:10,style:"regular",text:"The quick brown fox jumps over the lazy dog",controls:["size","name","style"],fonts:["Roboto","arial","sans-serif","monospace"]},n),(o=Ot()(this,Et()(e).call(this,t,n,{className:"info",window:{title:n.title,attributes:{minDimension:{width:400,height:200}}},buttons:["ok","cancel"]},r))).value={name:o.args.name,size:o.args.size,style:o.args.style},o}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this,r=Array(this.args.maxSize-this.args.minSize).fill(0).map(function(t,e){return n.args.minSize+e}).reduce(function(t,e){return Object.assign(t,Dt()({},e,e))},{}),o=this.args.fonts.reduce(function(t,e){var n=e.toLowerCase();return Object.assign(t,Dt()({},n,e))},{}),i={regular:"Regular",bold:"Bold",italic:"Italic"},a=Object.assign({},this.value),u={setSize:function(t){return function(e){return n.value.size=t,{size:t}}},setFont:function(t){return function(e){return n.value.name=t,{name:t}}},setStyle:function(t){return function(e){return n.value.style=t,{style:t}}}};_t()(Et()(e.prototype),"render",this).call(this,t,function(t){l(a,u,function(t,e){return n.createView([c(M,{},[c(tt,{box:{grow:1,style:{display:-1!==n.args.controls.indexOf("size")?"flex":"none"}},value:t.size,choices:r,onchange:function(t,n){return e.setSize(n)}}),c(tt,{box:{grow:1,style:{display:-1!==n.args.controls.indexOf("name")?"flex":"none"}},value:t.name.toLowerCase(),choices:o,onchange:function(t,n){return e.setFont(n)}}),c(tt,{box:{grow:1,style:{display:-1!==n.args.controls.indexOf("style")?"flex":"none"}},value:t.size,choices:i,onchange:function(t,n){return e.setStyle(n)}})]),c(Z,{box:{grow:1},value:n.args.text,style:{fontFamily:t.name,fontSize:"".concat(t.size).concat(n.args.unit),fontWeight:"bold"===t.style?"bold":"normal",fontStyle:"bold"!==t.style?t.style:"normal",height:"4rem",overflow:"hidden",whiteSpace:"nowrap"}})])},t)})}}]),e}(bt),Ht=function(t){function e(t,n,r){a()(this,e),"string"==typeof(n=Object.assign({},{title:null,type:"open",filetype:"file",path:t.config("vfs.defaultPath"),filename:null,mime:[]},n)).path&&(n.path={path:n.path});try{n.path=Object.assign({isDirectory:!0,filename:n.path.path.split(":/")[1].split("/").pop()||""},n.path)}catch(t){console.warn(t)}var o=t.make("osjs/locale").translate,i=n.title?n.title:"open"===n.type?o("LBL_OPEN"):o("LBL_SAVE");return Ot()(this,Et()(e).call(this,t,n,{className:"file",window:{title:i,attributes:{resizable:!0},dimension:{width:400,height:400}},buttons:["ok","cancel"]},r))}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this,r=function(t){return n.core.make("osjs/fs").icon(t)},o=this.args.path;_t()(Et()(e.prototype),"render",this).call(this,t,function(t){var e,i=l({mount:o?(e=o.path,e.split(":")[0]+":/"):null,filename:n.args.filename,listview:X({columns:[{label:"Name"},{label:"Type"},{label:"Size"}]}),buttons:{ok:"directory"===n.args.filetype||!!n.args.filename}},{_readdir:function(t){var e=t.path,n=t.files;return function(t,o){var i=t.listview;return i.selectedIndex=-1,i.rows=n.map(function(t){return{columns:[{label:t.filename,icon:r(t)},t.mime,t.humanSize],data:t}}),{path:e,listview:i}}},setButtonState:function(t){return function(e){return{buttons:Object.assign({},e.buttons,t)}}},setMountpoint:function(t){return function(e,n){return n.setPath({path:t}),{mount:t}}},setPath:function(t){return function(){var e=kt()(xt.a.mark(function e(r,o){var i;return xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.core.make("osjs/vfs").readdir(t,{filter:function(t){return"directory"===n.args.filetype?!0===t.isDirectory:!n.args.mime.length||(!t.mime||n.args.mime.some(function(e){return new RegExp(e).test(t.mime)}))}});case 2:i=e.sent,n.args.path=t,o._readdir({path:t.path,files:i}),"file"===n.args.filetype&&o.setButtonState({ok:"save"===n.args.type&&!!n.args.filename});case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},setFilename:function(t){return function(e){return{filename:t}}},listview:U({select:function(t){var e=t.data;i.setFilename(e.isFile?e.filename:null),n.value=e.isFile?e:null,"file"===n.args.filetype&&e.isFile&&i.setButtonState({ok:!0})},activate:function(t){var e=t.data,r=t.ev;e.isDirectory?(i.setFilename(null),i.setPath(e)):(n.value=e.isFile?e:null,n.emitCallback(n.getPositiveButton(),r,!0))}})},function(t,e){return n.createView([c(tt,{choices:(r=n.core,r.make("osjs/fs").mountpoints(!0).filter(function(t){return!(t.attributes.readOnly&&"restricted"===t.attributes.visibility)}).reduce(function(t,e){return Object.assign(t,Dt()({},e.root,e.label))},{})),onchange:function(t,e){return i.setMountpoint(e)},value:t.mount}),c(q(Object.assign({box:{grow:1,shrink:1}},t.listview),e.listview)),c(Q,{placeholder:"Filename",value:t.filename,onenter:function(t,e){return n.emitCallback(n.getPositiveButton(),t,!0)},oninput:function(t){var n=t.target.value;e.setButtonState({ok:!!n}),e.setFilename(n)},box:{style:{display:"save"===n.args.type?null:"none"}}})],t);var r},t);i.setPath(o)})}},{key:"getValue",value:function(){if("save"===this.args.type){var t=this.args.path.path,n=this.win.$content.querySelector("input[type=text]").value;return n?Object.assign({},this.args.path,{filename:n,path:t.replace(/\/?$/,"/")+n}):void 0}return"directory"===this.args.filetype?this.args.path:_t()(Et()(e.prototype),"getValue",this).call(this)}}]),e}(bt),Wt=function(t){function e(t,n,r){var o;return a()(this,e),n=Object.assign({},{title:"Choice",message:"",choices:{}},n),(o=Ot()(this,Et()(e).call(this,t,n,{className:"alert",window:{title:n.title,attributes:{ontop:"error"===n.type},dimension:{width:400,height:200}},buttons:["ok","close"]},r))).value=Object.keys(o.args.choices)[0],o}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this;_t()(Et()(e.prototype),"render",this).call(this,t,function(t){l({current:n.value},{setCurrent:function(t){return function(e){return n.value=t,{current:t}}}},function(t,e){return n.createView([c(C,{grow:1},[c("div",{class:"osjs-dialog-message"},String(n.args.message)),c(tt,{choices:n.args.choices,value:t.current,onchange:function(t,n){return e.setCurrent(n)}})])])},t)})}}]),e}(bt),Yt=function(t){function e(t,n,r,o){var i;return a()(this,e),(i=Ot()(this,Et()(e).call(this,t,{},n,o))).valueCallback=r,i}return Pt()(e,t),s()(e,[{key:"render",value:function(t){var n=this;return _t()(Et()(e.prototype),"render",this).call(this,{},function(e,r){return t(e,r,n)})}},{key:"getValue",value:function(){return this.valueCallback(this)}}]),e}(bt),qt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a()(this,t),this.core=e,this.registry=Object.assign({alert:Tt,confirm:zt,prompt:At,progress:It,color:Mt,font:Gt,file:Ht,choice:Wt},n.registry||{})}return s()(t,[{key:"destroy",value:function(){}},{key:"init",value:function(){var t=kt()(xt.a.mark(function t(){var e=this;return xt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.core.instance("osjs/dialog",function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(arguments.length<=2?0:arguments.length-2)>1?arguments.length<=2?void 0:arguments[2]:{},i=(n=2+((arguments.length<=2?0:arguments.length-2)>1?1:0))<2||arguments.length<=n?void 0:arguments[n];if(!e.registry[t])throw new Error("Dialog '".concat(t,"' does not exist"));if("function"!=typeof i)throw new Error("Dialog requires a callback");var a=new e.registry[t](e.core,r,i);return a.render(o),a}),this.core.singleton("osjs/dialogs",function(){return{create:function(t,n,r){return new Yt(e.core,t,n,r)},register:function(t,n){e.registry[t]&&console.warn("Overwriting previously registered dialog",t),e.registry[t]=n}}});case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){}}]),t}();n.d(e,"Dialog",function(){return bt}),n.d(e,"AlertDialog",function(){return Tt}),n.d(e,"ConfirmDialog",function(){return zt}),n.d(e,"PromptDialog",function(){return At}),n.d(e,"ProgressDialog",function(){return It}),n.d(e,"ColorDialog",function(){return Mt}),n.d(e,"FileDialog",function(){return Ht}),n.d(e,"ChoiceDialog",function(){return Wt}),n.d(e,"DialogServiceProvider",function(){return qt})}])});


/***/ }),

/***/ "./node_modules/@osjs/gapi-provider/dist/main.js":
/*!*******************************************************!*\
  !*** ./node_modules/@osjs/gapi-provider/dist/main.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

(function webpackUniversalModuleDefinition(root, factory) {
	if(true)
		module.exports = factory();
	else {}
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: GapiServiceProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GapiServiceProvider", function() { return GapiServiceProvider; });
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ "./node_modules/@babel/runtime/helpers/classCallCheck.js");
/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ "./node_modules/@babel/runtime/helpers/createClass.js");
/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__);



/*
 * OS.js - JavaScript Cloud/Web Desktop Platform
 *
 * Copyright (c) 2011-2019, Anders Evenrud <andersevenrud@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 *    list of conditions and the following disclaimer
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * @author  Anders Evenrud <andersevenrud@gmail.com>
 * @licence Simplified BSD License
 */

/*
 * Alias
 */
var gapiAuthInstance = function gapiAuthInstance() {
  return window.gapi.auth2.getAuthInstance();
};
/*
 * Creates gapi client instance
 */


var createGapiClient = function createGapiClient(options) {
  var opts = Object.assign({
    apiKey: null,
    clientId: null,
    discoveryDocs: [],
    scope: []
  }, options);
  opts.scope = opts.scope.join(' '); // If these are not correct we just get some lame 404s from google

  if (!opts.apiKey || !opts.clientId) {
    throw new Error('gapi client requires apiKey and clientId');
  }

  if (!opts.discoveryDocs.length) {
    throw new Error('gapi client requires discoveryDocs');
  }

  if (!opts.scope.length) {
    throw new Error('gapi client requires scope');
  }

  return window.gapi.client.init(opts);
};
/*
 * Loads the gapi client
 */


var loadGapiClient = function loadGapiClient(libraries, timeout) {
  return new Promise(function (resolve, reject) {
    if (libraries) {
      console.debug('Loading gapi client with', libraries);
      window.gapi.load(libraries, {
        timeout: timeout,
        callback: function callback() {
          return resolve();
        },
        onerror: function onerror(err) {
          return reject(new Error(err));
        },
        ontimeout: function ontimeout() {
          return reject(new Error('Timed Out'));
        } // FIXME

      });
    } else {
      // Not spesifying just makes 404s at google
      reject(new Error('gapi load requires libraries'));
    }
  });
};
/**
 * Google API Service Provider
 * @desc Provides gapi
 */


var GapiServiceProvider =
/*#__PURE__*/
function () {
  function GapiServiceProvider(core, options) {
    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default()(this, GapiServiceProvider);

    this.options = Object.assign({
      src: 'https://apis.google.com/js/api.js',
      timeout: 30000,
      libraries: 'client:auth2',
      client: {}
    }, options);
    this.core = core;
    this.signedIn = false;
    this.loaded = false;
    this.clients = [];
    this.bus = null;
  }
  /**
   * Destroys the service provider
   */


  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default()(GapiServiceProvider, [{
    key: "destroy",
    value: function destroy() {
      this.emitAll('destroy');
      this.clients = this.client.filter(function (c) {
        return c.destroy();
      });
      this.tray = this.tray.destroy();
      this.bus = this.bus.destroy();
    }
    /**
     * Initializes the service provider
     * @desc Exposes and binds api stuff
     */

  }, {
    key: "init",
    value: function init() {
      var _this = this;

      this.core.singleton('google/api', function () {
        if (!('gapi' in window)) {
          throw new Error('gapi was not loaded');
        }

        return window.gapi;
      });
      this.core.singleton('osjs/gapi', function () {
        return {
          login: function login() {
            return _this.login();
          },
          logout: function logout() {
            return _this.login();
          },
          create: function create() {
            return _this.createInstance();
          }
        };
      });
    }
    /**
     * Get a list of provided services
     */

  }, {
    key: "provides",
    value: function provides() {
      return ['google/api', 'osjs/gapi'];
    }
    /**
     * Start the service provider
     * @see GapiServiceProvider#createApi
     */

  }, {
    key: "start",
    value: function start() {
      this.createTray();
      return this.createApi();
    }
    /**
     * Creates tray icon
     */

  }, {
    key: "createTray",
    value: function createTray() {
      var _this2 = this;

      this.tray = this.core.make('osjs/tray').create({
        title: 'Google API',
        icon: __webpack_require__(/*! ./logo.svg */ "./logo.svg")
      }, function (ev) {
        _this2.core.make('osjs/contextmenu').show({
          position: ev.target,
          menu: [{
            label: 'Scopes',
            items: _this2.options.client.scope.map(function (s) {
              return {
                label: s
              };
            })
          }, {
            label: 'Sign In',
            disabled: _this2.signedIn,
            onclick: function onclick() {
              return _this2.login();
            }
          }, {
            label: 'Sign Out',
            disabled: !_this2.signedIn,
            onclick: function onclick() {
              return _this2.logout();
            }
          }]
        });
      });
      this.bus = this.core.make('osjs/event-handler', 'gapi');
      this.bus.on('signed-in', function () {
        _this2.core.make('osjs/notification', {
          icon: __webpack_require__(/*! ./logo.svg */ "./logo.svg"),
          title: 'Google API',
          message: 'You have signed on to Google'
        });

        _this2.emitAll('signed-in');
      });
      this.bus.on('signed-out', function () {
        _this2.loaded = false;

        _this2.emitAll('signed-out');
      });
    }
    /**
     * Creates google api
     * @return Promise
     */

  }, {
    key: "createApi",
    value: function createApi() {
      var _this3 = this;

      var _this$options = this.options,
          src = _this$options.src,
          libraries = _this$options.libraries,
          timeout = _this$options.timeout,
          client = _this$options.client;

      var _this$core$make = this.core.make('osjs/dom'),
          script = _this$core$make.script;

      var $resourceRoot = this.core.$resourceRoot;
      return script($resourceRoot, src).then(function () {
        return loadGapiClient(libraries, timeout);
      }).then(function () {
        return createGapiClient(client);
      }).then(function () {
        return _this3.listen();
      });
    }
    /**
     * Creates a new instance that we return from service
     * @desc It's jus a small wrapper with a bus attached
     * @return {Object}
     */

  }, {
    key: "createInstance",
    value: function createInstance() {
      var _this4 = this;

      var bus = this.core.make('osjs/event-handler', 'gapi-client');
      this.clients.push(bus);
      return {
        login: function login() {
          return _this4.login();
        },
        logout: function logout() {
          return _this4.logout();
        },
        on: function on() {
          return bus.on.apply(bus, arguments);
        },
        off: function off() {
          return bus.off.apply(bus, arguments);
        },
        destroy: function destroy() {
          var foundIndex = _this4.clients.find(function (b) {
            return b === bus;
          });

          if (foundIndex !== -1) {
            _this4.clients.splice(foundIndex, 1);
          }

          bus.destroy();
        }
      };
    }
    /**
     * Emits events across all created instances
     * @see EventHandler#emit
     */

  }, {
    key: "emitAll",
    value: function emitAll(name) {
      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
        args[_key - 1] = arguments[_key];
      }

      args.push(window.gapi);
      this.clients.forEach(function (bus) {
        return bus.emit.apply(bus, [name].concat(args));
      });
    }
    /**
     * Sets up the gapi auth listening
     */

  }, {
    key: "listen",
    value: function listen() {
      var _this5 = this;

      var emit = function emit() {
        return _this5.bus.emit(_this5.signedIn ? 'signed-in' : 'signed-out');
      };

      if (!this.loaded) {
        gapiAuthInstance().isSignedIn.listen(function (s) {
          _this5.signedIn = s;
          emit();
        });
        this.signedIn = gapiAuthInstance().isSignedIn.get();
        emit();
      }

      this.loaded = true;
    }
    /**
     * Perform login
     * @return Promise
     */

  }, {
    key: "login",
    value: function login() {
      if (!this.signedIn) {
        return gapiAuthInstance().signIn().then(function () {
          return window.gapi;
        });
      }

      return Promise.resolve(window.gapi);
    }
    /**
     * Perform logout
     * @return Promise
     */

  }, {
    key: "logout",
    value: function logout() {
      if (this.signedIn) {
        return gapiAuthInstance().signOut().then(function () {
          return window.gapi;
        });
      }

      return Promise.resolve(window.gapi);
    }
  }]);

  return GapiServiceProvider;
}();

/***/ }),

/***/ "./logo.svg":
/*!******************!*\
  !*** ./logo.svg ***!
  \******************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "686f8efa6e3e28e96d1c08399e8d353d.svg";

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/classCallCheck.js":
/*!***************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/classCallCheck.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

module.exports = _classCallCheck;

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/createClass.js":
/*!************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/createClass.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

module.exports = _createClass;

/***/ }),

/***/ 0:
/*!************************!*\
  !*** multi ./index.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! /home/anders/Projects/OS.js-v3/packages/osjs-gapi-provider/index.js */"./index.js");


/***/ })

/******/ });
});


/***/ }),

/***/ "./node_modules/@osjs/gui/dist/esm.js":
/*!********************************************!*\
  !*** ./node_modules/@osjs/gui/dist/esm.js ***!
  \********************************************/
/*! exports provided: Element, Box, BoxContainer, BoxStyled, Button, Progressbar, Menu, Toolbar, Statusbar, MenubarItem, Menubar, Panes, ListView, listView, IconViewEntry, IconView, iconView, Image, Video, Tabs, Iframe, TextField, TextareaField, SelectField, ToggleField, RangeField, Icon, Expander, GUIServiceProvider */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Element", function() { return Element$1; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Box", function() { return Box; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BoxContainer", function() { return BoxContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BoxStyled", function() { return BoxStyled; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Button", function() { return Button; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Progressbar", function() { return Progressbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Menu", function() { return Menu; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Toolbar", function() { return Toolbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Statusbar", function() { return Statusbar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MenubarItem", function() { return MenubarItem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Menubar", function() { return Menubar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Panes", function() { return Panes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ListView", function() { return ListView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "listView", function() { return listView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconViewEntry", function() { return IconViewEntry; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IconView", function() { return IconView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "iconView", function() { return iconView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Image", function() { return Image; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Video", function() { return Video; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Tabs", function() { return Tabs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Iframe", function() { return Iframe; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextField", function() { return TextField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TextareaField", function() { return TextareaField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectField", function() { return SelectField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ToggleField", function() { return ToggleField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RangeField", function() { return RangeField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Icon", function() { return Icon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Expander", function() { return Expander; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GUIServiceProvider", function() { return GUIServiceProvider; });
function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var arrayWithoutHoles=_arrayWithoutHoles;function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}var iterableToArray=_iterableToArray;function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var nonIterableSpread=_nonIterableSpread;function _toConsumableArray(e){return arrayWithoutHoles(e)||iterableToArray(e)||nonIterableSpread()}var toConsumableArray=_toConsumableArray;function h(e,t){for(var n=[],o=[],a=arguments.length;2<a--;)n.push(arguments[a]);for(;n.length;){var s=n.pop();if(s&&s.pop)for(a=s.length;a--;)n.push(s[a]);else null!=s&&!0!==s&&!1!==s&&o.push(s)}return"function"==typeof e?e(t||{},o):{nodeName:e,attributes:t||{},children:o,key:t&&t.key}}function app(e,t,n,o){function a(e){return{nodeName:e.nodeName.toLowerCase(),attributes:{},children:k.call(e.childNodes,function(e){return 3===e.nodeType?e.nodeValue:a(e)})}}function s(e){return"function"==typeof e?s(e(I,S)):null==e?"":e}function i(){b=!b;var e=s(n);for(o&&!b&&(w=f(o,w,j,j=e)),L=!1;_.length;)_.pop()()}function r(){b||(b=!0,setTimeout(i))}function l(e,t){var n={};for(var o in e)n[o]=e[o];for(var o in t)n[o]=t[o];return n}function c(e,t,n){var o={};return e.length?(o[e[0]]=1<e.length?c(e.slice(1),t,n[e[0]]):t,l(n,o)):t}function d(e,t){for(var n=0;n<e.length;)t=t[e[n++]];return t}function p(e,t,n){for(var o in n)"function"==typeof n[o]?function(o,a){n[o]=function(o){var s=a(o);return"function"==typeof s&&(s=s(d(e,I),n)),s&&s!==(t=d(e,I))&&!s.then&&r(I=c(e,l(t,s),I)),s}}(o,n[o]):p(e.concat(o),t[o]=l(t[o]),n[o]=l(n[o]));return n}function u(e){return e?e.key:null}function g(e){return e.currentTarget.events[e.type](e)}function h(e,t,n,o,a){if("key"===t);else if("style"!==t)"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?!o&&(o=e.events[t]):e.events={},e.events[t]=n,n?!o&&e.addEventListener(t,g):e.removeEventListener(t,g)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!a?e[t]=null==n?"":n:null!=n&&!1!==n&&e.setAttribute(t,n),(null==n||!1===n)&&e.removeAttribute(t);else if("string"==typeof n)e.style.cssText=n;else for(var s in"string"==typeof o&&(o=e.style.cssText=""),l(o,n)){var i=null==n||null==n[s]?"":n[s];"-"===s[0]?e.style.setProperty(s,i):e.style[s]=i}}function m(e,t){var n="string"==typeof e||"number"==typeof e?document.createTextNode(e):(t=t||"svg"===e.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",e.nodeName):document.createElement(e.nodeName),o=e.attributes;if(o){o.oncreate&&_.push(function(){o.oncreate(n)});for(var a=0;a<e.children.length;a++)n.appendChild(m(e.children[a]=s(e.children[a]),t));for(var r in o)h(n,r,o[r],null,t)}return n}function v(e,t,n,o){for(var a in l(t,n))n[a]!==("value"==a||"checked"==a?e[a]:t[a])&&h(e,a,n[a],t[a],o);var s=L?n.oncreate:n.onupdate;s&&_.push(function(){s(e,t)})}function y(e,t){var n=t.attributes;if(n){for(var o=0;o<t.children.length;o++)y(e.childNodes[o],t.children[o]);n.ondestroy&&n.ondestroy(e)}return e}function x(e,t,n){function o(){e.removeChild(y(t,n))}var a=n.attributes&&n.attributes.onremove;a?a(t,o):o()}function f(e,t,n,o,a){if(o===n);else if(null==n||n.nodeName!==o.nodeName){var r=m(o,a);e.insertBefore(r,t),null!=n&&x(e,t,n),t=r}else if(null==n.nodeName)t.nodeValue=o;else{v(t,n.attributes,o.attributes,a=a||"svg"===o.nodeName);for(var l={},c={},d=[],p=n.children,g=o.children,h=0;h<p.length;h++){d[h]=t.childNodes[h];var y=u(p[h]);null!=y&&(l[y]=[d[h],p[h]])}for(var h=0,b=0;b<g.length;){var y=u(p[h]),w=u(g[b]=s(g[b]));if(c[y]){h++;continue}if(null!=w&&w===u(p[h+1])){null==y&&x(t,d[h],p[h]),h++;continue}if(null==w||L)null==y&&(f(t,d[h],p[h],g[b],a),b++),h++;else{var j=l[w]||[];y===w?(f(t,j[0],j[1],g[b],a),h++):j[0]?f(t,t.insertBefore(j[0],d[h]),j[1],g[b],a):f(t,d[h],null,g[b],a),c[w]=g[b],b++}}for(;h<p.length;)null==u(p[h])&&x(t,d[h],p[h]),h++;for(var h in l)c[h]||x(t,l[h][0],l[h][1])}return t}var b,k=[].map,w=o&&o.children[0]||null,j=w&&a(w),_=[],L=!0,I=l(e),S=p([],I,l(t));return r(),S}var unitValue=function(e,t){return"number"==typeof e?"".concat(e,"px"):!1===e?t:e},boxPropNames={grow:function(e){return{flexGrow:e}},shrink:function(e){return{flexShrink:e}},basis:function(e){return{flexBasis:unitValue(e,"auto")}},align:function(e){return{alignItems:e}},justify:function(e){return{justifyContent:e}},padding:function(e){return{margin:unitValue(e,"0")}},margin:function(e){return{margin:unitValue(e,"0")}}},Element$1=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=e.class instanceof Array?e.class:[e.class],o=["osjs-gui"].concat(toConsumableArray(n));e.orientation&&o.push("osjs-gui-"+e.orientation);var a="string"==typeof e.style?{}:Object.assign({},e.style||{}),s=Object.keys(e).reduce(function(t,n){var o=boxPropNames[n]?boxPropNames[n](e[n]):void 0;return Object.assign({},t,o)},a);return h("div",{oncreate:e.oncreate,ondestroy:e.ondestroy,class:o.filter(function(e){return!!e}).join(" "),style:s},t)},Box=function(e,t){return h(Element$1,Object.assign({orientation:"horizontal"},e,{class:["osjs-gui-box",e.class]}),t)},BoxContainer=function(e,t){return h(Element$1,Object.assign({},e,{class:["osjs-gui-box-container",e.class]}),t)},BoxStyled=function(e,t){return h(Element$1,Object.assign({},e,{class:["osjs-gui-box-styled",e.class]}),t)};function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var _typeof_1=createCommonjsModule(function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(o){return e.exports="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?n=function(e){return t(e)}:n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(o)}e.exports=n}),Icon=function(e){var t=e&&"object"===_typeof_1(e)?e.src:e,o=e&&"object"===_typeof_1(e)?e.name:void 0;return h("i",{"data-icon":o,class:"osjs-icon",style:{backgroundImage:"string"==typeof e?"url(".concat(t,")"):void 0}})};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var defineProperty=_defineProperty,filteredProps=function(e,t){var n=Object.keys(e);return n.filter(function(e){return-1===t.indexOf(e)}).reduce(function(t,n){return Object.assign(defineProperty({},n,e[n]),t)},{})},doubleTap=function(){var e,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:250,n=!1;return function(o,a){return(e=clearTimeout(e),e=setTimeout(function(){return n=!1},t),n)?(o.preventDefault(),a(o)):(n=!0,!1)}},createField=function(e,t,n,o,a){var s=t.oninput||function(){},i=t.onchange||function(){},r=t.onkeydown||function(){},l=a||function(e){return[e.target.value]},c=Object.assign({oninput:function(e){return s.apply(void 0,[e].concat(toConsumableArray(l(e))))},onchange:function(e){return i.apply(void 0,[e].concat(toConsumableArray(l(e))))},onkeydown:function(e){13===e.keyCode&&t.onenter&&t.onenter.apply(t,[e].concat(toConsumableArray(l(e)))),r(e)}},n,filteredProps(t,["choices","label","box","oninput","onchange"]));return h(Element$1,Object.assign({},t.box||{},{class:"osjs-gui-field osjs-gui-"+e}),o(c))},Button=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("button",e,{},function(n){var o=[];return e.icon&&o.push(h(Icon,e.icon)),"string"==typeof e.label&&o.push(h("span",{class:"osjs-label"},e.label)),h("button",n,[].concat(o,toConsumableArray(t)))})},Progressbar=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n="number"==typeof e.value?Math.max(0,Math.abs(e.value))%100:0,o=h("div",{class:"osjs-gui-progressbar-wrapper"},[h("div",{className:"osjs-gui-progressbar-value",style:{width:n+""+"%"}}),h("div",{className:"osjs-gui-progressbar-label"},[h("span",{},[n+""+"%"])])]);return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-progressbar",e.class]}),[o].concat(toConsumableArray(t)))},ul=function e(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,a=function(e){var t=[];return"checkbox"===e.type||"boolean"==typeof e.checked?t.push(h("span",{class:"osjs-gui-menu-checkbox "+(e.checked?"active":"")})):e.icon&&t.push(h(Icon,e.icon)),t.push(h("span",{},e.label)),t},s=function(t,n){if("function"==typeof n.element)return n.element();var s="separator"===n.type?"osjs-gui-menu-separator":"osjs-gui-menu-label "+(n.disabled?"osjs__disabled":""),i=[h("span",{class:s},a(n))];return n.items&&i.push(e(t,n.items,o+1)),i};return h("ul",{class:""},n.map(function(e){return h("li",{class:"osjs-gui-menu-entry"},[h("div",{class:"osjs-gui-menu-container","data-has-image":!!e.icon||void 0,"data-has-children":!!e.items||void 0,onmouseover:e.items?t.onshow:void 0,ontouchend:e.items?t.onshow:void 0,onclick:function(n){e.items||(e.onclick&&e.onclick(e,n),t.onclick&&t.onclick(e,n,e))}},s(t,e))])}))},Menu=function(e){return h("div",{id:"osjs-context-menu",className:"osjs-gui osjs-gui-menu",oncreate:e.oncreate,onupdate:e.onupdate,style:{display:!1===e.visible?"none":"block",top:e.position?e.position.top+""+"px":0,left:e.position?e.position.left+""+"px":0}},ul(e,e.menu))},Toolbar=function(e,t){return h(Element$1,Object.assign({orientation:"vertical"},e,{class:["osjs-gui-toolbar",e.class]}),t)},Statusbar=function(e,t){return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-statusbar",e.class]}),t)},MenubarItem=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=e.onclick,o=e.data;return h("div",{onclick:function(e){if("function"==typeof n){var t=e.target.parentNode,a=Array.prototype.indexOf.call(t.children,e.target);n(e,o||{},a)}}},h("span",{},t))},Menubar=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return h(Element$1,Object.assign({},e,{class:["osjs-gui-menubar",e.class]}),[].concat(toConsumableArray((e.items||[]).map(function(t){return h(MenubarItem,{data:t.data,onclick:t.onclick||e.onclick},t.label)})),toConsumableArray(t)))};function nestable(e,t,n,o){return t._$r=function(){return{}},function(a,s){return h(o||"x-",{key:a.key,id:a.id,class:a.class,oncreate:function(o){var i=app(e,t,function(e,t){var a=n(e,t);return"function"==typeof a&&(a=a(o._$p,o._$c)),a},o);o._$p=a,o._$c=s,o._$r=i._$r,o._$u=i.uninit,i.init&&i.init(a),a.oncreate&&a.oncreate(o)},onupdate:function(e){e._$p=a,e._$c=s,e._$r(),a.onupdate&&a.onupdate(e)},ondestroy:function(e){e._$u&&e._$u()},onremove:function(e,t){return a.onremove?void a.onremove(e,t):t()}})}}var _onmousedown=function(e,t,n){var o=e.target,a=e.clientX,s=e.clientY,i=o.previousSibling,r=i.offsetWidth,l=i.offsetHeight,c=Array.from(o.parentNode.children).indexOf(i),d=.8*i.parentNode.offsetWidth,p=.8*i.parentNode.offsetHeight;if(!(0>c)){var u=function(e){var o=Math.min;e.preventDefault();var i="vertical"===n?r:l;if("vertical"===n){var u=e.clientX-a;i=o(d,i+u)}else{var g=e.clientY-s;i=o(p,i+g)}t.setSize({index:c,size:i})},g=function e(t){t.preventDefault(),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)};e.preventDefault(),document.addEventListener("mousemove",u),document.addEventListener("mouseup",g)}},panes=function(e,t,n,o){var a=Array(Math.ceil(n.length/2)).fill(null).map(function(){return h("div",{class:"osjs-gui-panes-spacer",onmousedown:function(e){return _onmousedown(e,t,o)}})});return n.map(function(t,n){var o=e.sizes[n]?e.sizes[n]+""+"px":void 0;return h("div",{class:"osjs-gui-panes-pane",style:{flex:o?"0 0 ".concat(o):o}},t)}).map(function(e,t){return[e,a[t]]}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return"undefined"!=typeof e})},view=function(e,t){return function(n,o){var a=n.orientation||"vertical";return h(Element$1,{orientation:a,class:"osjs-gui-panes-inner"},panes(e,t,o,a))}},inner=nestable({sizes:[]},{init:function(e){return{sizes:e.sizes||[150]}},setSize:function(e){var t=e.index,n=e.size;return function(e){var o=[].concat(e.sizes);return o[t]=n,{sizes:o}}}},view,"div"),Panes=function(e,t){return h(inner,{class:"osjs-gui-panes"},t)},tapper=doubleTap(),createView=function(e){var t=function(t){return function(n,o){var a=n.columns[t]||{},s=e.selectedIndex===o,i=a.icon?h(Icon,a.icon):null,r=[h("span",{},["object"===_typeof_1(a)?a.label:a])];return i&&r.unshift(i),h("div",{"data-has-icon":!!a.icon||void 0,class:"osjs-gui-list-view-cell"+(s?" osjs__active":""),ontouchstart:function(t){return tapper(t,function(){return e.onactivate({data:n.data,index:o,ev:t})})},ondblclick:function(t){return e.onactivate({data:n.data,index:o,ev:t})},onclick:function(t){return e.onselect({data:n.data,index:o,ev:t})},oncontextmenu:function(t){return e.oncontextmenu({data:n.data,index:o,ev:t})},oncreate:function(t){return e.oncreate({data:n.data,index:o,el:t})}},r)}},n=function(n,o){return h("div",{class:"osjs-gui-list-view-pane",style:o.style||{}},[h("div",{class:"osjs-gui-list-view-header",style:{display:e.hideColumns?"none":void 0}},h("span",{},"object"===_typeof_1(o)?o.label:o)),h("div",{class:"rows","data-zebra":e.zebra+""},e.rows.map(t(n)))])};return h("div",{class:"osjs-gui-list-view-wrapper",oncreate:function(t){return t.scrollTop=e.scrollTop},onupdate:function(t){0>e.selectedIndex&&(t.scrollTop=e.scrollTop)}},e.columns.map(function(e,t){return n(t,e)}))},ListView=function(e){return h(Element$1,Object.assign({class:"osjs-gui-list-view"},e.box||{}),createView(filteredProps(e,["box"])))},listView={component:function(e,t){var n=Object.assign({zebra:!0,columns:[],rows:[],onselect:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.setSelectedIndex(o)},onactivate:function(e){var n=e.data,o=e.index,a=e.ev;t.activate({data:n,index:o,ev:a}),t.setSelectedIndex(-1)},oncontextmenu:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.contextmenu({data:n,index:o,ev:a}),t.setSelectedIndex(o)},oncreate:function(e){t.created(e)}},e);return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return ListView(Object.assign(n,e))}},state:function(e){return Object.assign({selectedIndex:-1,scrollTop:0},e)},actions:function(e){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},setRows:function(e){return{rows:e}},setColumns:function(e){return{columns:e}},setScrollTop:function(e){return function(){return{scrollTop:e}}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},e||{})}},tapper$1=doubleTap(),IconViewEntry=function(e,t,n){return function(){var o=e.icon||{name:"application-x-executable"},a=n.selectedIndex===t;return h("div",{class:"osjs-gui-icon-view-entry"+(a?" osjs__active":""),ontouchstart:function(o){return tapper$1(o,function(){return n.onactivate({data:e.data,index:t,ev:o})})},ondblclick:function(o){return n.onactivate({data:e.data,index:t,ev:o})},onclick:function(o){return n.onselect({data:e.data,index:t,ev:o})},oncontextmenu:function(o){return n.oncontextmenu({data:e.data,index:t,ev:o})},oncreate:function(o){return n.oncreate({data:e.data,index:t,el:o})}},[h("div",{class:"osjs__container"},[h("div",{class:"osjs__image"},[h(Icon,o)]),h("div",{class:"osjs__label"},[h("span",{},e.label)])])])}},IconView=function(e){var t=h("div",{class:"osjs-gui-icon-view-wrapper",oncreate:function(t){return t.scrollTop=e.scrollTop},onupdate:function(t){0>e.selectedIndex&&(t.scrollTop=e.scrollTop)}},e.entries.map(function(t,n){return h(IconViewEntry(t,n,e))}));return h(Element$1,Object.assign({class:"osjs-gui-icon-view"},e.box||{}),t)},iconView={component:function(e,t){var n=Object.assign({entries:[],onselect:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.setSelectedIndex(o)},onactivate:function(e){var n=e.data,o=e.index,a=e.ev;t.activate({data:n,index:o,ev:a}),t.setSelectedIndex(-1)},oncontextmenu:function(e){var n=e.data,o=e.index,a=e.ev;t.select({data:n,index:o,ev:a}),t.contextmenu({data:n,index:o,ev:a}),t.setSelectedIndex(o)},oncreate:function(e){t.created(e)}},e);return function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return IconView(Object.assign(n,e))}},state:function(e){return Object.assign({selectedIndex:-1,scrollTop:0},e)},actions:function(e){return Object.assign({select:function(){return function(){return{}}},activate:function(){return function(){return{}}},contextmenu:function(){return function(){return{}}},created:function(){return function(){return{}}},setEntries:function(e){return function(){return{entries:e}}},setScrollTop:function(e){return function(){return{scrollTop:e}}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},e||{})}},Image=function(e){return h("div",{class:"osjs-gui osjs-gui-image",style:{width:e.width?e.width+""+"px":void 0,height:e.height?e.height+""+"px":void 0}},h("img",e))},sources=function(e){return e.map(function(e){return h("source",e)})},isTrue=function(e){return"undefined"==typeof e||!0===e},Video=function(e){return h("div",{class:"osjs-gui osjs-gui-video",style:{width:e.width?e.width+""+"px":void 0,height:e.height?e.height+""+"px":void 0}},[h("video",{src:e.src,width:e.width,height:e.height,poster:e.poster,loop:e.loop?"loop":void 0,muted:e.muted?"muted":void 0,controls:isTrue(e.controls)?"controls":void 0,autoplay:isTrue(e.autoplay)?"autoplay":void 0,onloadeddata:e.onload,oncreate:e.oncreate,onupdate:e.onupdate,ondestroy:e.ondestroy},sources(e.sources||[]))])},headers=function(e,t,n){var o=e.labels,a=e.onchange,s=e.oncontextmenu;return(o||[]).map(function(e,o){return h("div",{class:t.selectedIndex===o?"osjs__active":"",oncontextmenu:function(t){(s||function(){})(t,o,e)},onclick:function(t){n.setSelectedIndex(o),(a||function(){})(t,o,e)}},h("span",{},e))})},panes$1=function(e,t){return t.map(function(t,n){return h("div",{class:e.selectedIndex===n?"osjs__active":""},t)})},view$1=nestable({selectedIndex:0},{init:function(e){return{selectedIndex:e.selectedIndex||0}},setSelectedIndex:function(e){return function(){return{selectedIndex:e}}}},function(e,t){return function(n,o){return h("div",{class:"osjs-gui-tabs-wrapper"},[h("div",{class:"osjs-gui-tabs-header"},headers(n,e,t)),h("div",{class:"osjs-gui-tabs-panes"},panes$1(e,o))])}},"div"),Tabs=function(e,t){return h(view$1,Object.assign({class:"osjs-gui osjs-gui-tabs "+(e.class||"")},e),t)},Iframe=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return h(Element$1,Object.assign({},e.box||{},{class:["osjs-gui-iframe",e.class]}),[h("iframe",Object.assign({frameborder:0},filteredProps(e,["box"])))].concat(toConsumableArray(t)))},TextField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return createField("text-field",e,{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",type:"text"},function(e){return h("input",e)})},TextareaField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("textarea-field",e,{rows:4},function(e){return h("textarea",e,t)})},SelectField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[],n=function(t){return t instanceof Array?t.map(function(e){return"object"===_typeof_1(e)?e:{value:e,label:e}}):Object.keys(e.choices||{}).map(function(t){return{value:t,label:e.choices[t]}})}(e.choices).map(function(t){var n=t.value,o=t.label;return h("option",{value:n,selected:e.value===n},o)});return createField("select-field",e,{selectedIndex:void 0},function(e){return h("div",{},h("select",e,[].concat(toConsumableArray(n),toConsumableArray(t))))},function(e){return[e.target.value,e.target.textContent]})},parseValue=function(t){try{return JSON.parse(t)}catch(n){return t}},ToggleField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];return createField("toggle-field",e,{type:"checkbox",checked:!1},function(n){return h("label",{},[h("input",n),h("span",{class:"osjs-toggle-input"}),h("span",{class:"osjs-toggle-label"},[e.label||""].concat(toConsumableArray(t)))])},function(t){return["radio"===e.type?parseValue(t.target.value):!!t.target.checked]})},RangeField=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return createField("range-field",e,{type:"range"},function(e){return h("input",e)})},view$2=function(e,t){return function(n,o){return h(Element$1,Object.assign({},n.box||{},{class:["osjs-gui-expander-wrapper"]}),[h("div",{class:"osjs-gui-expander-header",onclick:function(o){return t.ontoggle({ev:o,active:!e.active,ontoggle:n.ontoggle})}},[h("div",{class:"osjs-gui-expander-header-icon","data-active":e.active+""}),h("div",{class:"osjs-gui-expander-header-label"},n.label)]),h("div",{class:"osjs-gui-expander-content",style:{display:!1===e.active?"none":void 0}},o)])}},inner$1=nestable({active:!0},{init:function(e){return{ative:!1!==e.active}},ontoggle:function(e){var t=e.ev,n=e.active,o=e.ontoggle;return(o||function(){})(t,n),{active:n}}},view$2,"div"),Expander=function(e,t){return h(inner$1,Object.assign({},e,{class:"osjs-gui osjs-gui-expander"}),t)},runtime=createCommonjsModule(function(e){!function(t){function n(e,t,n,o){var s=t&&t.prototype instanceof a?t:a,i=Object.create(s.prototype),r=new g(o||[]);return i._invoke=c(e,n,r),i}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function a(){}function s(){}function i(){}function r(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function l(e){function t(n,a,s,i){var r=o(e[n],e,a);if("throw"===r.type)i(r.arg);else{var l=r.arg,c=l.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,s,i)},function(e){t("throw",e,s,i)}):Promise.resolve(c).then(function(e){l.value=e,s(l)},function(e){return t("throw",e,s,i)})}}function n(e,n){function o(){return new Promise(function(o,a){t(e,n,o,a)})}return a=a?a.then(o,o):o()}var a;this._invoke=n}function c(e,t,n){var a="suspendedStart";return function(s,i){if(a==="executing")throw new Error("Generator is already running");if("completed"===a){if("throw"===s)throw i;return m()}for(n.method=s,n.arg=i;;){var r=n.delegate;if(r){var l=d(r,n);if(l){if(l===j)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var c=o(e,t,n);if("normal"===c.type){if(a=n.done?"completed":"suspendedYield",c.arg===j)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a="completed",n.method="throw",n.arg=c.arg)}}}function d(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,d(e,t),"throw"===t.method))return j;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var a=o(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,j;var s=a.arg;if(!s)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,j;if(s.done)t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0);else return s;return t.delegate=null,j}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function u(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function g(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(p,this),this.reset(!0)}function h(e){if(e){var t=e[f];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(y.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:m}}function m(){return{value:void 0,done:!0}}var v=Object.prototype,y=v.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},f=x.iterator||"@@iterator",b=x.asyncIterator||"@@asyncIterator",k=x.toStringTag||"@@toStringTag",w=t.regeneratorRuntime;if(w)return void(e.exports=w);w=t.regeneratorRuntime=e.exports,w.wrap=n;var j={},_={};_[f]=function(){return this};var L=Object.getPrototypeOf,I=L&&L(L(h([])));I&&I!==v&&y.call(I,f)&&(_=I);var S=i.prototype=a.prototype=Object.create(_);s.prototype=S.constructor=i,i.constructor=s,i[k]=s.displayName="GeneratorFunction",w.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===s||"GeneratorFunction"===(t.displayName||t.name))},w.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,!(k in e)&&(e[k]="GeneratorFunction")),e.prototype=Object.create(S),e},w.awrap=function(e){return{__await:e}},r(l.prototype),l.prototype[b]=function(){return this},w.AsyncIterator=l,w.async=function(e,t,o,a){var s=new l(n(e,t,o,a));return w.isGeneratorFunction(t)?s:s.next().then(function(e){return e.done?e.value:s.next()})},r(S),S[k]="Generator",S[f]=function(){return this},S.toString=function(){return"[object Generator]"},w.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},w.values=h,g.prototype={constructor:g,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(u),!e)for(var t in this)"t"===t.charAt(0)&&y.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return s.type="throw",s.arg=e,n.next=t,o&&(n.method="next",n.arg=void 0),!!o}if(this.done)throw e;for(var n=this,o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var r=y.call(a,"catchLoc"),l=y.call(a,"finallyLoc");if(r&&l){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(r){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);}else if(!l)throw new Error("try statement without catch or finally");else if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}},abrupt:function(e,t){for(var n,o=this.tryEntries.length-1;0<=o;--o)if(n=this.tryEntries[o],n.tryLoc<=this.prev&&y.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,j):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),j},finish:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),u(t),j},catch:function(e){for(var t,n=this.tryEntries.length-1;0<=n;--n)if(t=this.tryEntries[n],t.tryLoc===e){var o=t.completion;if("throw"===o.type){var a=o.arg;u(t)}return a}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),j}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())}),g=function(){return this||"object"==typeof self&&self}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&0<=Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime"),oldRuntime=hadRuntime&&g.regeneratorRuntime;g.regeneratorRuntime=void 0;var runtimeModule=runtime;if(hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(t){g.regeneratorRuntime=void 0}var regenerator=runtimeModule;function asyncGeneratorStep(e,t,n,o,a,s,i){try{var r=e[s](i),l=r.value}catch(e){return void n(e)}r.done?t(l):Promise.resolve(l).then(o,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function s(e){asyncGeneratorStep(r,o,a,s,i,"next",e)}function i(e){asyncGeneratorStep(r,o,a,s,i,"throw",e)}var r=e.apply(t,n);s(void 0)})}}var asyncToGenerator=_asyncToGenerator;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var classCallCheck=_classCallCheck;function _defineProperties(e,t){for(var n,o=0;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var createClass=_createClass,clampSubMenu=function(e,t){var n=t.target.querySelector("ul");if(n&&(n.classList.contains("osjs-gui-menu-container")&&(n=n.parentNode.parentNode),n&&n.offsetParent)){n.classList.remove("clamp-right");var o=n.getBoundingClientRect();o.right>e.offsetWidth&&n.classList.add("clamp-right")}},clampMenu=function(e,t,n){var o={},a=n.top+t.offsetHeight,s=n.left+t.offsetWidth,i=e.offsetHeight-n.top,r=e.offsetWidth-n.left,l=s>e.offsetWidth,c=a>e.offsetHeight;return c&&(o.top=e.offsetHeight-t.offsetHeight-i),l&&(o.left=e.offsetWidth-t.offsetWidth-r),c||l?o:null},view$3=function(e){return function(t,n){return h(Menu,{position:t.position,visible:t.visible,menu:t.menu,onclick:e,onshow:n.onshow})}},timeout=function(e){return e(),setTimeout(e,100)},ContextMenu=function(){function e(t){classCallCheck(this,e),this.core=t,this.callback=function(){},this.actions=null}return createClass(e,[{key:"destroy",value:function(){this.callback=null,this.actions=null}},{key:"init",value:function(){var e,t=this;this.actions=app({visible:!1,menu:[],position:{top:0,left:0}},{clamp:function(n){return function(o){if(n=n||document.querySelector("#osjs-context-menu"),clearTimeout(e),n){var a=t.core.$root,s=clampMenu(a,n,o.position);if(s)return{position:s}}return{}}},onshow:function(n){return function(){e=timeout(function(){return clampSubMenu(t.core.$root,n)})}},show:function(e){return function(n,o){var a=e.menu,s=e.position;if(s instanceof Event)s={left:s.clientX,top:s.clientY};else if(s instanceof Element){var i=s.getBoundingClientRect();s={left:i.left,top:i.top+i.height}}return t.callback=function(n,o,a){e.callback&&e.callback(n,o),!1!==a.closeable&&t.actions.hide()},timeout(function(){return o.clamp()}),{visible:!0,menu:a||[],position:s||{top:0,left:0}}}},hide:function(){return function(){return t.callback=null,{visible:!1}}}},view$3(function(){!t.core.destroyed&&t.callback&&t.callback.apply(t,arguments)}),this.core.$root)}},{key:"show",value:function(){var e;return this.actions?(e=this.actions).show.apply(e,arguments):null}},{key:"hide",value:function(){var e;return this.actions?(e=this.actions).hide.apply(e,arguments):null}}]),e}(),validContextMenuTarget=function(e){var t=e.target,n="TEXTAREA"===t.tagName;return n||"INPUT"!==t.tagName||(n=-1!==["text","password","number","email"].indexOf(t.type)),n},GUIServiceProvider=function(){function e(t){classCallCheck(this,e),this.core=t,this.contextmenu=new ContextMenu(t)}return createClass(e,[{key:"destroy",value:function(){var e=document.getElementById("osjs-context-menu");e&&e.remove(),this.contextmenu.destroy()}},{key:"init",value:function(){var e=asyncToGenerator(regenerator.mark(function e(){var t,n=this;return regenerator.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t={show:function(){var e;return(e=n.contextmenu).show.apply(e,arguments)},hide:function(){var e;return(e=n.contextmenu).hide.apply(e,arguments)}},this.core.instance("osjs/contextmenu",function(){return arguments.length?t.show.apply(t,arguments):t}),this.core.$root.addEventListener("contextmenu",function(e){validContextMenuTarget(e)||(e.stopPropagation(),e.preventDefault())});case 3:case"end":return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"start",value:function(){var e=this;this.core.$root.addEventListener("click",function(t){var n=document.getElementById("osjs-context-menu"),o=n.contains(t.target);!o&&e.contextmenu&&e.contextmenu.hide()},!0),this.contextmenu.init()}}]),e}();


/***/ }),

/***/ "./node_modules/@osjs/panels/dist/main.js":
/*!************************************************!*\
  !*** ./node_modules/@osjs/panels/dist/main.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,n){ true?module.exports=n():undefined}(window,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=12)}([function(t,n){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},function(t,n,e){var r=e(16),o=e(9);t.exports=function(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?o(t):n}},function(t,n,e){var r=e(17);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}},function(t,n,e){e(0);var r=e(22);function o(n,e,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,n,e){var o=r(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(e):i.value}},o(n,e,i||n)}t.exports=o},function(t,n,e){var r=e(19),o=e(20),i=e(21);t.exports=function(t){return r(t)||o(t)||i()}},function(t,n,e){t.exports=e(14)},function(t,n){function e(t,n,e,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void e(t)}u.done?n(c):Promise.resolve(c).then(r,o)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise(function(o,i){var a=t.apply(n,r);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)})}}},function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,n,e){(function(n){t.exports=function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=2)}([function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},function(t,n,e){t.exports=e(3)},function(t,n,e){"use strict";e.r(n),e.d(n,"EventEmitter",function(){return c});var r=e(0),o=e.n(r),i=e(1),a=e.n(i),u=function(t){return t instanceof Array?t:String(t).replace(/\s+/g,"").split(",")},c=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined";o()(this,t),this.name=n,this.events={}}return a()(t,[{key:"destroy",value:function(){this.events={}}},{key:"on",value:function(t,n){var e=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r=r||{},"function"!=typeof n)throw new TypeError("Invalid callback");return u(t).forEach(function(t){e.events[t]||(e.events[t]=[]),e.events[t].push({callback:n,options:r})}),this}},{key:"once",value:function(t,n){return this.on(t,n,{once:!0})}},{key:"off",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return u(t).filter(function(t){return!!n.events[t]}).forEach(function(t){if(e)for(var o=n.events[t].length;o--;){var i=n.events[t][o];(!i.options.persist||r)&&i.callback===e&&n.events[t].splice(o,1)}else n.events[t]=r?[]:n.events[t].filter(function(t){return!0===t.options.persist})}),this}},{key:"emit",value:function(t){for(var n=this,e=arguments.length,r=new Array(e>1?e-1:0),o=1;o<e;o++)r[o-1]=arguments[o];return u(t).forEach(function(t){if(n.events[t])for(var e=n.events[t].length;e--;){var o=n.events[t][e],i=o.options,a=o.callback;try{a.apply(void 0,r)}catch(t){console.warn(t)}i&&i.once&&n.events[t].splice(e,1)}}),this}}]),t}()}])}).call(this,e(18))},function(t,n,e){t.exports=e.p+"881c86876af63b732063d7bdd51bb226.png"},function(t,n,e){t.exports=e(23)},function(t,n,e){},function(t,n,e){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=e(15),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,n){!function(n){"use strict";var e,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag",s="object"==typeof t,f=n.regeneratorRuntime;if(f)s&&(t.exports=f);else{(f=n.regeneratorRuntime=s?t.exports:{}).wrap=b;var l="suspendedStart",p="suspendedYield",h="executing",v="completed",y={},d={};d[a]=function(){return this};var L=Object.getPrototypeOf,m=L&&L(L(k([])));m&&m!==r&&o.call(m,a)&&(d=m);var g=j.prototype=w.prototype=Object.create(d);O.prototype=g.constructor=j,j.constructor=O,j[c]=O.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===O||"GeneratorFunction"===(n.displayName||n.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(g),t},f.awrap=function(t){return{__await:t}},E(P.prototype),P.prototype[u]=function(){return this},f.AsyncIterator=P,f.async=function(t,n,e,r){var o=new P(b(t,n,e,r));return f.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},E(g),g[c]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},f.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},f.values=k,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),s=o.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),T(e),y}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;T(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:k(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}}}function b(t,n,e,r){var o=n&&n.prototype instanceof w?n:w,i=Object.create(o.prototype),a=new N(r||[]);return i._invoke=function(t,n,e){var r=l;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw i;return B()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var u=x(a,e);if(u){if(u===y)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===l)throw r=v,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=h;var c=_(t,n,e);if("normal"===c.type){if(r=e.done?v:p,c.arg===y)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(r=v,e.method="throw",e.arg=c.arg)}}}(t,e,a),i}function _(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}function w(){}function O(){}function j(){}function E(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function P(t){var n;this._invoke=function(e,r){function i(){return new Promise(function(n,i){!function n(e,r,i,a){var u=_(t[e],t,r);if("throw"!==u.type){var c=u.arg,s=c.value;return s&&"object"==typeof s&&o.call(s,"__await")?Promise.resolve(s.__await).then(function(t){n("next",t,i,a)},function(t){n("throw",t,i,a)}):Promise.resolve(s).then(function(t){c.value=t,i(c)},function(t){return n("throw",t,i,a)})}a(u.arg)}(e,r,n,i)})}return n=n?n.then(i,i):i()}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=_(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function T(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function k(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:B}}function B(){return{value:e,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},r(n)}t.exports=r},function(t,n){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},e(n,r)}t.exports=e},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}},function(t,n){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,n,e){var r=e(0);t.exports=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=r(t)););return t}},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"de_DE",function(){return j}),e.d(r,"en_EN",function(){return E}),e.d(r,"fr_FR",function(){return P}),e.d(r,"nb_NO",function(){return x}),e.d(r,"sl_SI",function(){return A}),e.d(r,"vi_VN",function(){return T});e(13);var o=e(7),i=e.n(o),a=e(8),u=e.n(a),c=e(1),s=e.n(c),f=e(2),l=e.n(f),p=e(3),h=e.n(p),v=e(0),y=e.n(v),d=e(4),L=e.n(d),m=e(9),g=e.n(m);function b(t,n){for(var e=[],r=[],o=arguments.length;o-- >2;)e.push(arguments[o]);for(;e.length;){var i=e.pop();if(i&&i.pop)for(o=i.length;o--;)e.push(i[o]);else null!=i&&!0!==i&&!1!==i&&r.push(i)}return"function"==typeof t?t(n||{},r):{nodeName:t,attributes:n||{},children:r,key:n&&n.key}}function _(t,n,e,r){var o,i=[].map,a=r&&r.children[0]||null,u=a&&function t(n){return{nodeName:n.nodeName.toLowerCase(),attributes:{},children:i.call(n.childNodes,function(n){return 3===n.nodeType?n.nodeValue:t(n)})}}(a),c=[],s=!0,f=y(t),l=function t(n,e,r){for(var o in r)"function"==typeof r[o]?function(t,o){r[t]=function(t){var i=o(t);return"function"==typeof i&&(i=i(L(n,f),r)),i&&i!==(e=L(n,f))&&!i.then&&v(f=d(n,y(e,i),f)),i}}(o,r[o]):t(n.concat(o),e[o]=y(e[o]),r[o]=y(r[o]));return r}([],f,y(n));return v(),l;function p(t){return"function"==typeof t?p(t(f,l)):null!=t?t:""}function h(){o=!o;var t=p(e);for(r&&!o&&(a=function t(n,e,r,o,i){if(o===r)   ;else if(null==r||r.nodeName!==o.nodeName){var a=function t(n,e){var r="string"==typeof n||"number"==typeof n?document.createTextNode(n):(e=e||"svg"===n.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",n.nodeName):document.createElement(n.nodeName);var o=n.attributes;if(o){o.oncreate&&c.push(function(){o.oncreate(r)});for(var i=0;i<n.children.length;i++)r.appendChild(t(n.children[i]=p(n.children[i]),e));for(var a in o)b(r,a,o[a],null,e)}return r}(o,i);n.insertBefore(a,e),null!=r&&_(n,e,r),e=a}else if(null==r.nodeName)e.nodeValue=o;else{!function(t,n,e,r){for(var o in y(n,e))e[o]!==("value"===o||"checked"===o?t[o]:n[o])&&b(t,o,e[o],n[o],r);var i=s?e.oncreate:e.onupdate;i&&c.push(function(){i(t,n)})}(e,r.attributes,o.attributes,i=i||"svg"===o.nodeName);for(var u={},f={},l=[],h=r.children,v=o.children,d=0;d<h.length;d++){l[d]=e.childNodes[d];var L=m(h[d]);null!=L&&(u[L]=[l[d],h[d]])}for(var d=0,g=0;g<v.length;){var L=m(h[d]),w=m(v[g]=p(v[g]));if(f[L])d++;else if(null==w||w!==m(h[d+1]))if(null==w||s)null==L&&(t(e,l[d],h[d],v[g],i),g++),d++;else{var O=u[w]||[];L===w?(t(e,O[0],O[1],v[g],i),d++):O[0]?t(e,e.insertBefore(O[0],l[d]),O[1],v[g],i):t(e,l[d],null,v[g],i),f[w]=v[g],g++}else null==L&&_(e,l[d],h[d]),d++}for(;d<h.length;)null==m(h[d])&&_(e,l[d],h[d]),d++;for(var d in u)f[d]||_(e,u[d][0],u[d][1])}return e}(r,a,u,u=t)),s=!1;c.length;)c.pop()()}function v(){o||(o=!0,setTimeout(h))}function y(t,n){var e={};for(var r in t)e[r]=t[r];for(var r in n)e[r]=n[r];return e}function d(t,n,e){var r={};return t.length?(r[t[0]]=t.length>1?d(t.slice(1),n,e[t[0]]):n,y(e,r)):n}function L(t,n){for(var e=0;e<t.length;)n=n[t[e++]];return n}function m(t){return t?t.key:null}function g(t){return t.currentTarget.events[t.type](t)}function b(t,n,e,r,o){if("key"===n)   ;else if("style"===n)if("string"==typeof e)t.style.cssText=e;else for(var i in"string"==typeof r&&(r=t.style.cssText=""),y(r,e)){var a=null==e||null==e[i]?"":e[i];"-"===i[0]?t.style.setProperty(i,a):t.style[i]=a}else"o"===n[0]&&"n"===n[1]?(n=n.slice(2),t.events?r||(r=t.events[n]):t.events={},t.events[n]=e,e?r||t.addEventListener(n,g):t.removeEventListener(n,g)):n in t&&"list"!==n&&"type"!==n&&"draggable"!==n&&"spellcheck"!==n&&"translate"!==n&&!o?t[n]=null==e?"":e:null!=e&&!1!==e&&t.setAttribute(n,e),null!=e&&!1!==e||t.removeAttribute(n)}function _(t,n,e){function r(){t.removeChild(function t(n,e){var r=e.attributes;if(r){for(var o=0;o<e.children.length;o++)t(n.childNodes[o],e.children[o]);r.ondestroy&&r.ondestroy(n)}return n}(n,e))}var o=e.attributes&&e.attributes.onremove;o?o(n,r):r()}}var w=e(10),O=function(t){function n(t,e){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return s()(this,n),(r=h()(this,y()(n).call(this,"Panel"))).core=t,r.panel=e,r.options=o,r.state={},r.actions={},r.inited=!1,r}return L()(n,t),l()(n,[{key:"destroy",value:function(){this.emit("destroy",this)}},{key:"init",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!this.inited&&(this.inited=!0,this.emit("init",this),_(n,e,function(n,e){return t.render(n,e)},this.panel.$element))}},{key:"render",value:function(t){return b("div",{className:"osjs-panel-item","data-name":t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[])}}]),n}(w.EventEmitter),j={LBL_PANEL_ALL:"Panel hinzufügen",LBL_PANEL_REMOVE:"Panel entfernen",LBL_PANELITEM_ADD:"Panelelemente hinzufügen",LBL_PANELITEM_REMOVE:"Panelelemente entfernen",LBL_PANEL_POSITION:"Panel-Position",LBL_SAVE_AND_LOG_OUT:"Session speichern & Abmelden",LBL_LOG_OUT:"Abmelden"},E={LBL_PANEL_ALL:"Add panel",LBL_PANEL_REMOVE:"Remove panel",LBL_PANELITEM_ADD:"Add panelitem",LBL_PANELITEM_REMOVE:"Remove panelitem",LBL_PANEL_POSITION:"Panel Position",LBL_SAVE_AND_LOG_OUT:"Save Session & Log Out",LBL_LOG_OUT:"Log Out"},P={LBL_PANEL_ALL:"Ajouter le panneau",LBL_PANEL_REMOVE:"Supprimer le panneau",LBL_PANELITEM_ADD:"Ajouter des éléments au panneau",LBL_PANELITEM_REMOVE:"Supprimer des éléments au panneau",LBL_PANEL_POSITION:"La position du panneau",LBL_SAVE_AND_LOG_OUT:"Sauvegarder la session et se déconnecter",LBL_LOG_OUT:"Se déconnecter"},x={LBL_PANEL_ALL:"Legg til panel",LBL_PANEL_REMOVE:"Fjern panel",LBL_PANELITEM_ADD:"Legg til panelobjekt",LBL_PANELITEM_REMOVE:"Fjern panelobjekt",LBL_PANEL_POSITION:"Panelposisjon",LBL_SAVE_AND_LOG_OUT:"Lagre Sessjon & Logg Ut",LBL_LOG_OUT:"Logg Ut"},A={LBL_PANEL_ALL:"Dodaj ploščo",LBL_PANEL_REMOVE:"Odstrani ploščo",LBL_PANELITEM_ADD:"Dodaj element plošče",LBL_PANELITEM_REMOVE:"Odstrani element plošče",LBL_PANEL_POSITION:"Položaj plošče",LBL_SAVE_AND_LOG_OUT:"Shranitev seje & Odjava",LBL_LOG_OUT:"Odjava"},T={LBL_PANEL_ALL:"Thêm panel",LBL_PANEL_REMOVE:"Xóa panel",LBL_PANELITEM_ADD:"Thêm mục panel",LBL_PANELITEM_REMOVE:"Xóa mục panel",LBL_PANEL_POSITION:"Vị trí panel",LBL_SAVE_AND_LOG_OUT:"Lưu phiên & Đăng xuất",LBL_LOG_OUT:"Đăng xuất"},N=function(t){function n(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s()(this,n),(e=h()(this,y()(n).call(this,"Panel"))).core=t,e.options=Object.assign({},{ontop:!0,position:"top",items:[]},r),e.items=[],e.inited=!1,e.destroyed=!1,e.$element=null,e.options.items.forEach(function(n){var r=n.name,o=n.options,i=t.make("osjs/panels").get(r);e.addItem(new i(e.core,g()(g()(e)),o||{}))}),e}return L()(n,t),l()(n,[{key:"destroy",value:function(){this.destroyed||(this.items=this.items.filter(function(t){try{t.destroy()}catch(t){console.warn(t)}return!1}),this.destroyed=!0,this.inited=!1,this.emit("destroy"),this.core.emit("osjs/panel:destroy",this),this.$element.remove(),this.$element=null)}},{key:"init",value:function(){var t=this;if(!this.inited){this.destroyed=!1,this.inited=!0;var n=this.core.make("osjs/locale").translate,e=this.core.make("osjs/locale").translatable(r);this.$element=document.createElement("div"),this.$element.classList.add("osjs-panel"),this.$element.classList.add("osjs__contextmenu"),this.$element.addEventListener("contextmenu",function(r){r.preventDefault(),t.core.config("desktop.lock")||t.core.make("osjs/contextmenu").show({position:r,menu:[{label:e("LBL_PANEL_POSITION"),items:[{label:n("LBL_TOP"),onclick:function(){return t.setPosition("top")}},{label:n("LBL_BOTTOM"),onclick:function(){return t.setPosition("bottom")}}]}]})}),this.$element.setAttribute("data-position",this.options.position),this.$element.setAttribute("data-ontop",String(this.options.ontop)),this.core.$root.appendChild(this.$element),this.items.forEach(function(t){return t.init()}),this.emit("create")}}},{key:"addItem",value:function(t){if(!(t instanceof O))throw new TypeError("Invalid panel item specified");this.items.push(t),this.inited&&t.init()}},{key:"setPosition",value:function(t){var n=this;return this.options.position=t,this.core.make("osjs/panels").save().then(function(){return n.core.make("osjs/desktop").applySettings()})}}]),n}(w.EventEmitter),k=e(6),B=e.n(k),I=e(5),M=e.n(I),S=function(t){return{wid:t.wid,icon:t.state.icon,title:t.state.title,focused:t.state.focused,attributes:Object.assign({},t.attributes),state:Object.assign({},t.state),raise:function(){t.raise(),t.focus()},restore:function(){return t.restore()},maximize:function(){return t.maximize()},minimize:function(){return t.minimize()},close:function(){return t.close()}}},R=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"init",value:function(){var t=this;if(!this.inited){var e=function(t){return void 0===t.attributes.visibility||"global"===t.attributes.visibility},r=M()(y()(n.prototype),"init",this).call(this,{launchers:[],windows:this.core.make("osjs/windows").list().filter(function(t){return t.inited||t.rendered}).filter(e).map(S)},{add:function(t){return function(n){return n.windows.find(function(n){return n.wid===t.wid})?n:{windows:n.windows.concat([t]).filter(function(t){return!t.inited||!t.rendered}).filter(e)}}},remove:function(t){return function(n){var e=n.windows,r=e.findIndex(function(n){return n.wid===t.wid});return-1!==r?(e.splice(r,1),{windows:e}):{}}},change:function(t){return function(n){var e=n.windows,r=n.windows.findIndex(function(n){return n.wid===t.wid});return-1!==r&&(e[r]=t),{windows:e}}},addLauncher:function(t){return function(n){return{launchers:[].concat(B()(n.launchers),[t])}}},removeLauncher:function(t){return function(n){var e=n.launchers.findIndex(function(n){return n===t}),r=B()(n.launchers);return-1!==e&&r.splice(e,1),{launchers:r}}}}),o=function(t){return r.addLauncher(t)},i=function(t){return r.removeLauncher(t)},a=function(t){return r.remove(S(t))},u=function(t){return r.add(S(t))},c=function(t){return r.change(S(t))};this.core.on("osjs/application:launch",o),this.core.on("osjs/application:launched",i),this.core.on("osjs/window:destroy",a),this.core.on("osjs/window:render",u),this.core.on("osjs/window:change",c),this.on("destroy",function(){t.core.off("osjs/application:launch",o),t.core.off("osjs/application:launched",i),t.core.off("osjs/window:destroy",a),t.core.off("osjs/window:render",u),t.core.off("osjs/window:change",c)})}}},{key:"render",value:function(t,e){var r=this,o=this.core.make("osjs/locale").translate,i=t.windows.map(function(t){return b("div",{"data-has-image":!!t.icon||void 0,"data-focused":t.focused?"true":"false",onclick:function(){return t.raise()},oncontextmenu:function(n){n.stopPropagation(),n.preventDefault(),r.core.make("osjs/contextmenu").show({position:n.target,menu:[{label:t.state.maximized?o("LBL_RESTORE"):o("LBL_MAXIMIZE"),onclick:function(){return t.attributes.maximizable?t.state.maximized?t.restore():t.maximize():null},disabled:!t.attributes.maximizable},{label:t.state.minimized?o("LBL_RAISE"):o("LBL_MINIMIZE"),onclick:function(){return t.attributes.minimizable?t.state.minimized?t.raise():t.minimize():null},disabled:!t.attributes.minimizable},{type:"separator"},{label:o("LBL_CLOSE"),onclick:function(){return t.attributes.closeable?t.close():null},disabled:!t.attributes.closeable}]})},className:"osjs-panel-item--clickable osjs-panel-item--icon"},[b("img",{src:t.icon,alt:t.title||"(window)"}),b("span",{},t.title||"(window)")])}),a=t.launchers.map(function(t){return b("div",{},b("div",{},b("span",{},"Launching '".concat(t,"'"))))}),u=[].concat(B()(i),B()(a));return M()(y()(n.prototype),"render",this).call(this,"windows",u)}}]),n}(O),D=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"init",value:function(){if(!this.inited){var t=M()(y()(n.prototype),"init",this).call(this,{tray:this.core.make("osjs/tray").list()},{setTray:function(t){return function(n){return{tray:t}}}});this.core.on("osjs/tray:update",function(n){return t.setTray(n)})}}},{key:"render",value:function(t,e){return M()(y()(n.prototype),"render",this).call(this,"tray",t.tray.map(function(t){return b("div",{onclick:function(n){return t.onclick(n,t)},oncontextmenu:function(n){return t.oncontextmenu(n,t)},className:"osjs-panel-item--clickable osjs-panel-item--icon"},b("img",{src:t.icon,title:t.title}))}))}}]),n}(O),G=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"init",value:function(){var t=this.core.make("osjs/locale").format,e=function(){return t(new Date,"longTime")};if(!this.inited){var r=M()(y()(n.prototype),"init",this).call(this,{time:e()},{increment:function(){return function(t){return{time:e()}}}});this.interval=setInterval(function(){r.increment()},1e3)}}},{key:"destroy",value:function(){this.interval=clearInterval(this.interval),M()(y()(n.prototype),"destroy",this).call(this)}},{key:"render",value:function(t,e){return M()(y()(n.prototype),"render",this).call(this,"clock",[b("span",{},t.time)])}}]),n}(O),U=e(11),V=e(11),z=function(t){return function(n,e){return-(t(n)<t(e))||+(t(n)>t(e))}},F=function(t){return String(t.label).toLowerCase()},$=function(t,n){return n.icon?n.icon.match(/^(https?:)\//)?n.icon:t.url(n.icon,{},n):V},X=function(t,n){return t.translatableFlat(n.title,n.name)},Y=function(t,n){return t.translate(n)},Z=function(t,n,e){var r=t.config("application.categories"),o={},i=t.make("osjs/locale");e.filter(function(t){return!0!==t.hidden}).forEach(function(n){var e=Object.keys(r).find(function(t){return t===n.category})||"other",a=r[e];o[e]||(o[e]={icon:a.icon?{name:a.icon}:V,label:Y(i,a.label),items:[]}),o[e].items.push({icon:$(t,n),label:X(i,n),data:{name:n.name}})}),Object.keys(o).forEach(function(t){o[t].items.sort(z(F))});var a=[{type:"separator"},{icon:V,label:n("LBL_SAVE_AND_LOG_OUT"),data:{action:"saveAndLogOut"}},{icon:V,label:n("LBL_LOG_OUT"),data:{action:"logOut"}}],u=Object.values(o);return u.sort(z(F)),[].concat(B()(u),a)},C=function(t){function n(){return s()(this,n),h()(this,y()(n).apply(this,arguments))}return L()(n,t),l()(n,[{key:"attachKeybindings",value:function(t){var n=this,e=function(e){var r=(n.options.boundKey||"Alt+a").toLowerCase().split("+"),o=["ctrl","shift","alt","meta"],i=String(e.key).toLowerCase();r.every(function(t){return-1!==o.indexOf(t)?e[t+"Key"]:i===t})&&t.click()};window.addEventListener("keydown",e),this.on("destroy",function(){return window.removeEventListener("keydown",e)})}},{key:"render",value:function(t,e){var o=this,a=this.core.make("osjs/locale").translate,c=this.core.make("osjs/locale").translatable(r),s=function(){var t=u()(i.a.mark(function t(n){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,o.core.make("osjs/session").save();case 3:o.core.make("osjs/auth").logout();case 4:case"end":return t.stop()}},t,this)}));return function(n){return t.apply(this,arguments)}}();return M()(y()(n.prototype),"render",this).call(this,"menu",[b("div",{onclick:function(t){var n=o.core.make("osjs/packages").getPackages(function(t){return!t.type||"application"===t.type});o.core.make("osjs/contextmenu").show({menu:Z(o.core,c,[].concat(n)),position:t.target,callback:function(t){var n=t.data||{},e=n.name,r=n.action;e?o.core.run(e):"saveAndLogOut"===r?s(!0):"logOut"===r&&s(!1)}})},oncreate:function(t){return o.attachKeybindings(t)},className:"osjs-panel-item--clickable osjs-panel-item--icon"},[b("img",{src:U,alt:a("LBL_MENU")}),b("span",{},a("LBL_MENU"))])])}}]),n}(O),W=function(){function t(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s()(this,t),this.core=n,this.panels=[],this.inited=!1,this.registry=Object.assign({menu:C,windows:R,tray:D,clock:G},e.registry||{})}return l()(t,[{key:"destroy",value:function(){this.inited=!1,this.panels.forEach(function(t){return t.destroy()}),this.panels=[]}},{key:"init",value:function(){var t=u()(i.a.mark(function t(){var n=this;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.core.singleton("osjs/panels",function(){return{register:function(t,e){n.registry[t]&&console.warn("Overwriting previously registered panel item",t),n.registry[t]=e},removeAll:function(){n.panels.forEach(function(t){return t.destroy()}),n.panels=[]},remove:function(t){var e="number"==typeof t?t:n.panels.findIndex(function(n){return n===t});e>=0&&(n.panels[e].destroy(),n.panels.splice(e,1))},create:function(t){var e=new N(n.core,t);n.panels.push(e),e.on("destroy",function(){return n.core.emit("osjs/panel:destroy",e,n.panels)}),e.on("create",function(){return setTimeout(function(){n.core.emit("osjs/panel:create",e,n.panels)},1)}),n.inited&&e.init()},save:function(){var t=n.core.make("osjs/settings"),e=n.panels.map(function(t){return t.options});return Promise.resolve(t.set("osjs/desktop","panels",e)).then(function(){return t.save()})},get:function(t){return n.registry[t]}}});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){this.inited=!0,this.panels.forEach(function(t){return t.init()})}}]),t}();e.d(n,"PanelServiceProvider",function(){return W}),e.d(n,"PanelItem",function(){return O}),e.d(n,"Panel",function(){return N}),e.d(n,"WindowsPanelItem",function(){return R}),e.d(n,"TrayPanelItem",function(){return D}),e.d(n,"ClockPanelItem",function(){return G}),e.d(n,"MenuPanelItem",function(){return C})}])});


/***/ }),

/***/ "./node_modules/@osjs/widgets/dist/main.js":
/*!*************************************************!*\
  !*** ./node_modules/@osjs/widgets/dist/main.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=8)}([function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){t.exports=n(10)},function(t,e){function n(t,e,n,r,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise(function(o,i){var s=t.apply(e,r);function a(t){n(s,o,i,a,u,"next",t)}function u(t){n(s,o,i,a,u,"throw",t)}a(void 0)})}}},function(t,e,n){var r=n(12),o=n(13);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(14);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(15),o=n(16),i=n(17);t.exports=function(t){return r(t)||o(t)||i()}},function(t,e,n){t.exports=n(18)},function(t,e,n){},function(t,e,n){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(11),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag",c="object"==typeof t,f=e.regeneratorRuntime;if(f)c&&(t.exports=f);else{(f=e.regeneratorRuntime=c?t.exports:{}).wrap=b;var l="suspendedStart",h="suspendedYield",p="executing",d="completed",m={},g={};g[s]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==r&&o.call(y,s)&&(g=y);var w=O.prototype=j.prototype=Object.create(g);k.prototype=w.constructor=O,O.constructor=k,O[u]=k.displayName="GeneratorFunction",f.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},f.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(w),t},f.awrap=function(t){return{__await:t}},E(S.prototype),S.prototype[a]=function(){return this},f.AsyncIterator=S,f.async=function(t,e,n,r){var o=new S(b(t,e,n,r));return f.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},E(w),w[u]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},f.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},f.values=D,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return a.type="throw",a.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var u=o.call(s,"catchLoc"),c=o.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:D(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}}}function b(t,e,n,r){var o=e&&e.prototype instanceof j?e:j,i=Object.create(o.prototype),s=new C(r||[]);return i._invoke=function(t,e,n){var r=l;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=L(s,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===l)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=x(t,e,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,s),i}function x(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function j(){}function k(){}function O(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function S(t){var e;this._invoke=function(n,r){function i(){return new Promise(function(e,i){!function e(n,r,i,s){var a=x(t[n],t,r);if("throw"!==a.type){var u=a.arg,c=u.value;return c&&"object"==typeof c&&o.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,i,s)},function(t){e("throw",t,i,s)}):Promise.resolve(c).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,s)})}s(a.arg)}(n,r,e,i)})}return e=e?e.then(i,i):i()}}function L(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,L(t,e),"throw"===e.method))return m;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=x(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,m;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function D(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return i.next=i}}return{next:M}}function M(){return{value:n,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(e){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?t.exports=r=function(t){return n(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},r(e)}t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,n){"use strict";n.r(e);n(9);var r=n(2),o=n.n(r),i=n(3),s=n.n(i),a=n(0),u=n.n(a),c=n(1),f=n.n(c),l=n(4),h=n.n(l),p=n(5),d=n.n(p),m=n(6),g=n.n(m),v=n(7),y=n.n(v),w=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===b}(t)}(t)};var b="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function x(t,e){return!1!==e.clone&&e.isMergeableObject(t)?k((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function j(t,e,n){return t.concat(e).map(function(t){return x(t,n)})}function k(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||j,n.isMergeableObject=n.isMergeableObject||w;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):function(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(e){r[e]=x(t[e],n)}),Object.keys(e).forEach(function(o){n.isMergeableObject(e[o])&&t[o]?r[o]=k(t[o],e[o],n):r[o]=x(e[o],n)}),r}(t,e,n):x(e,n)}k.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(t,n){return k(t,n,e)},{})};var O=k,E=200,S=200,L=800,$=800,_=function(t){return null==t},C=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(u()(this,t),this.core=e,this.dialog=null,this.$element=document.createElement("div"),this.$canvas=document.createElement("canvas"),this.context=this.$canvas.getContext("2d"),this.saveDebounce=null,this.attributes=Object.assign({},{aspect:!1,canvas:!0,fps:1,position:{top:null,left:null,right:null,bottom:null},dimension:{width:E,height:S},minDimension:null,maxDimension:{width:L,height:$}},r),null===this.attributes.minDimension&&(this.attributes.minDimension=Object.assign({width:E,height:S},this.attributes.dimension)),!0===this.attributes.aspect){var i=this.attributes.dimension,s=i.width,a=i.height,c=this.attributes.maxDimension,f=s/a;this.attributes.aspect=f,this.attributes.minDimension.height=s/f,this.attributes.maxDimension.height=c.width*f}this.options=Object.assign({position:Object.assign({},this.attributes.position),dimension:Object.assign({},this.attributes.dimension)},o,n)}return f()(t,[{key:"destroy",value:function(){this.onDestroy(),this.saveDebounce=clearTimeout(this.saveDebounce),this.dialog&&(this.dialog=this.dialog.destroy()),this.$element&&this.$element.parentNode&&this.$element.remove(),this.$canvas=null,this.$element=null}},{key:"render",value:function(){}},{key:"start",value:function(){var t,e,n,r=this,o=function(){return r.render({width:r.options.dimension.width,height:r.options.dimension.height,canvas:r.$canvas,context:r.context})};this.updateDimension(),this.updatePosition(),this.onResize(),this.onMove(),o(),this.attributes.canvas&&(t=this.attributes.fps,e=1e3/t,n=performance.now(),function t(r){var o=performance.now(),i=o-n;i>e&&(n=o-i%e,r()),requestAnimationFrame(function(){return t(r)})})(function(){return o()})}},{key:"init",value:function(){var t=this,e=this.$element,n=this.core.$root,r=document.createElement("div");r.classList.add("osjs-widget-resize"),e.appendChild(r),e.addEventListener("mousedown",function(e){return function(t,e,n){var r,o=t.clientX,i=t.clientY,s=n.$element.offsetLeft,a=n.$element.offsetTop,u=Object.assign({},n.options.dimension),c=t.target.classList.contains("osjs-widget-resize"),f=n.attributes,l=f.minDimension,h=f.maxDimension,p=function(t){var e=t.clientX-o,f=t.clientY-i;if(clearTimeout(r),c){var p=u.width+e,d=u.height+f;p=Math.min(h.width,Math.max(l.width,p)),d=Math.min(h.height,Math.max(l.height,d)),n.options.dimension.width=p,n.options.dimension.height=d,n.updateDimension(),r=setTimeout(function(){return n.onResize()},44)}else n.options.position.top=a+f,n.options.position.left=s+e,n.updatePosition(),r=setTimeout(function(){return n.onMove()},44)};window.addEventListener("mousemove",p),window.addEventListener("mouseup",function t(r){window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",t),n.$element.classList.remove("active"),e.setAttribute("data-window-action",String(!1)),n.saveSettings()}),n.$element.classList.add("active"),e.setAttribute("data-window-action",String(!0))}(e,n,t)}),e.addEventListener("contextmenu",function(e){return t.onContextMenu(e)}),e.classList.add("osjs-widget"),n.appendChild(e),this.attributes.canvas&&e.appendChild(this.$canvas),this.start()}},{key:"updateDimension",value:function(){var t=this.options.dimension,e=t.width,n=t.height;this.$element.style.width=String(e)+"px",this.$element.style.height=String(n)+"px",this.$canvas.width=e,this.$canvas.height=n}},{key:"updatePosition",value:function(){var t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t.make("osjs/desktop").getRect(),o=e.top,i=e.left,s=e.right,a=e.bottom;return _(i)&&_(s)?i=r.left+15:_(i)?i=n:s=n,_(o)&&_(a)?o=r.top+15:_(o)?o=n:a=n,{top:o,left:i,right:s,bottom:a}}(this.core,this.options.position,"auto"),e=t.left,n=t.right,r=t.top,o=t.bottom,i=function(t){return"string"==typeof t?t:"".concat(t,"px")};this.$element.style.left=i(e),this.$element.style.right=i(n),this.$element.style.top=i(r),this.$element.style.bottom=i(o)}},{key:"saveSettings",value:function(){var t=this;this.saveDebounce=clearTimeout(this.saveDebounce),this.saveDebounce=setTimeout(function(){return t.core.make("osjs/widgets").save()},100)}},{key:"getContextMenu",value:function(){return[]}},{key:"onDestroy",value:function(){}},{key:"onResize",value:function(){}},{key:"onMove",value:function(){}},{key:"onContextMenu",value:function(t){var e=this,n=y()(this.getContextMenu()).concat([{label:"Remove Widget",onclick:function(){e.core.make("osjs/widgets").remove(e),e.core.make("osjs/widgets").save()}}]);this.core.make("osjs/contextmenu").show({position:t,menu:n})}},{key:"_createDialog",value:function(t,e,n){var r=this;if(this.dialog)return!1;var o={buttons:["ok","cancel"],window:t||{}};return this.dialog=this.core.make("osjs/dialogs").create(o,n,function(t,e){"ok"===t&&(r.options=O(r.options,e),r.saveSettings())}).render(e),this.dialog.win.on("destroy",function(){return r.dialog=null}),this.dialog}}]),t}(),D=function(t,e){return String(e)+"px "+t},M=function(t){function e(t,n){var r;return u()(this,e),(r=h()(this,d()(e).call(this,t,n,{dimension:{width:300,height:50}},{fontFamily:"Monospace",fontColor:"#ffffff"}))).$tmpCanvas=document.createElement("canvas"),r.tmpContext=r.$tmpCanvas.getContext("2d"),r}return g()(e,t),f()(e,[{key:"compute",value:function(){var t=this.options,e=t.fontFamily,n=t.fontColor,r=this.$canvas,o=r.width,i=r.height,s=this.$tmpCanvas,a=this.tmpContext,u=function(t,e,n,r){for(var o=e;o>0&&(r.font=D(t,o),!(r.measureText("99:99:99").width<n));)o--;return o}(e,i,o,a);s.width=o,s.height=u,a.font=D(e,u),a.fillStyle=n,a.textAlign="center",a.textBaseline="middle"}},{key:"onResize",value:function(){this.compute()}},{key:"render",value:function(t){var e,n=t.context,r=t.width,o=t.height,i=this.$tmpCanvas,s=this.tmpContext,a=i.width,u=i.height,c=r/2-a/2,f=o/2-u/2,l=[(e=new Date).getHours(),e.getMinutes(),e.getSeconds()].map(function(t){return String(t).padStart(2,"0")}).join(":");s.clearRect(0,0,a,u),s.fillText(l,a/2,u/2),n.clearRect(0,0,r,o),n.drawImage(i,c,f,a,u)}},{key:"getContextMenu",value:function(){var t=this;return[{label:"Set Color",onclick:function(){return t.createColorDialog()}},{label:"Set Font",onclick:function(){return t.createFontDialog()}}]}},{key:"createFontDialog",value:function(){var t=this;this.core.make("osjs/dialog","font",{name:this.options.fontFamily,controls:["name"]},function(e,n){"ok"===e&&(t.options.fontFamily=n.name,t.compute(),t.saveSettings())})}},{key:"createColorDialog",value:function(){var t=this;this.core.make("osjs/dialog","color",{color:this.options.fontColor},function(e,n){"ok"===e&&(t.options.fontColor=n.hex,t.compute(),t.saveSettings())})}}]),e}(C),P=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u()(this,t),this.core=e,this.widgets=[],this.inited=!1,this.registry=Object.assign({digitalclock:M},n.registry||{})}return f()(t,[{key:"destroy",value:function(){this.widgets.forEach(function(t){return t.widget.destroy()}),this.widgets=[]}},{key:"init",value:function(){var t=s()(o.a.mark(function t(){var e,n=this;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e={register:function(t,e){n.registry[t]&&console.warn("Overwriting previously registered widget item",t),n.registry[t]=e},removeAll:function(){n.widgets.forEach(function(t){return t.widget.destroy()}),n.widgets=[]},remove:function(t){var e="number"==typeof t?t:n.widgets.findIndex(function(e){return e.widget===t});e>=0&&(n.widgets[e].widget.destroy(),n.widgets.splice(e,1))},create:function(t){var e=new(0,n.registry[t.name])(n.core,t.options);return n.widgets.push({name:t.name,widget:e}),n.inited&&e.init(),e},get:function(t){return n.registry[t]},list:function(){return Object.keys(n.registry)},save:function(){var t=n.core.make("osjs/settings"),e=n.widgets.map(function(t){return{name:t.name,options:t.widget.options}});return Promise.resolve(t.set("osjs/desktop","widgets",e)).then(function(){return t.save()})}},this.core.singleton("osjs/widgets",function(){return e}),this.core.on("osjs/desktop:transform",function(){n.widgets.forEach(function(t){return t.widget.updatePosition()})});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=this;this.inited=!0,this.widgets.forEach(function(t){return t.widget.init()});var e=this.core.make("osjs/desktop");"function"==typeof e.addContextMenuEntries&&e.addContextMenuEntries(function(){var e=t.core.make("osjs/widgets");return[{label:"Add Widget",items:e.list().map(function(t){return{label:t,onclick:function(){e.create({name:t}),e.save()}}})}]})}}]),t}();n.d(e,"WidgetServiceProvider",function(){return P}),n.d(e,"Widget",function(){return C}),n.d(e,"DigitalClockWidget",function(){return M})}])});


/***/ })

}]);
//# sourceMappingURL=vendors~osjs.js.map